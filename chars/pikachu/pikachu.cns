[Data]
life = 1000
attack = 110
defence = 110
fall.defence_up = 70 ;Def goes up by 50% everytime player is hit on ground
liedown.time = 60    ;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 25 ;15       ;Can do 15 points of juggling
sparkno = 2        ;Default spark number
guard.sparkno = 40 ;Default guard spark number
KO.echo = 0          ;1 to enable echo on KO
volume = 200         ;Volume offset (negative for softer)
IntPersistIndex = 13	;Variables with this index and above will not have their values
FloatPersistIndex = 40  ;reset to 0 between rounds or matches. There are 60 int variables,

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 13    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
height = 30 ;60	     ;Height of player (for opponent to jump over)
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 1 ;0     ;Set to 1 to scale projectiles too   
head.pos = 0, -39 ;-5, -90   ;Approximate position of head
mid.pos = 0, -15 ;-5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd = 2.8 ;Walk forward
walk.back = -2.6 ;Walk backward
run.fwd = 8.6, 0 ;6.6, 0 ;Run forward (x, y) - if y<0, player will hop
run.back = -6.5,-3.8 ;-4.5,-3.8 ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-10.5 ;-8.1 ;Neutral jumping velocity (x, y)
jump.back = -3 ;-2.55 ;Jump back Speed (x, y)
jump.fwd = 3 ;2.5 ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55;-8.1 ;Air jump speeds (opt)
airjump.fwd = 2.5;-8.1    ;.

[Movement]
airjump.num = 1    ;Number of air jumps allowed (opt)
airjump.height = 1  ;Minimum distance from ground before you can air jump (opt)
yaccel = .55 ;.43         ;Vertical acceleration
stand.friction = .89 
crouch.friction = .82 

[Quotes]
victory0 = "What a shocker! Did you think my moves were electrifying? Or do you need me to amp it up?"; CARLOS WILL YOU SHUT UP FOR JUST ONE SECOND
victory1 = "Yeah, I'm cute, admit it!"
victory2 = "Try some ketchup. Why? Because you're too slow!"; hehehehehe
victory3 = "Watch out! This mouse's got some high voltage!"
; Vs. Pikachu
victory4 = "Hey, why don't we team up? I think that'd be radical!"; (Normal)
victory5 = "Hey! Stop trying to impersonate me, ya poser!"; (Mirror Match)
; Vs. Jigglypuff
victory6 = "Yo, sis. I think you should take a rest every once in a while."; KREEEEEN (Normal)
victory7 = "Yo, sis. I think- Wait a second..."; (Vs. Dylanius' Jigglypuff)
; Vs. Pichu or pikaclones
victory8 = "Don't feel bad. You'll improve with time!"
; Vs. Mewtwo
victory9 = "You don't need a big brain to kick butt."; (Normal)
victory10 = "Wait, you're...different from that other Mewtwo, aren't you?"; (Awakened Mewtwo, if that ever happens in the future)
victory11 = "Something about you is giving me bad vibes...just what are you?"; Notice the yellow thing LODGED IN HIS SHOULDER? You should know that's what's wrong with them. (Shadow Mewtwo)
; Vs. Charizard
victory12 = "Oooo, you're a big and scary dragon! There's no way I can beat you! \nOh wait, I already did. Whoops!"
; Vs. Lucario
victory13 = "Why is it that your fighting style reminds me of someone else's...?"; You want to give Lucario Shoto gameplay? SHORYUKEN!
; Vs. Greninja
victory14 = "Did you get tongue-tied trying to catch me? Then what's that around your neck?"

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...
;---------------------------------------------------------------------------


;---------------------- Integer variable list ----------------------

; var(0):= 3229 - Volt Shock Fist (BG), 1900 - Charge Meter
; var(1):= 3229 - Volt Shock Fist (BG), -1 - Don't remove the following line. It's required by the CMD standard.
; var(3):= 800 - Throw (start)
; var(5):= 40 - Jump start
; var(6):= 140 - Guard (end), -2 - States that are always executed (use statedef -2)
; var(7):= -2 - States that are always executed (use statedef -2)
; var(8):= 165 - Shield Break - Ground, 166 - Shield Break - Air, 5300 - Stun, -2 - States that are always executed (use statedef -2)
;var(10):= 180 - Winstate decider
;var(11):= 1200 - Iron Tail
;var(13):= 196 - Charge, 200 - Standing Light, 210 - Standing Medium, 220 - Standing Heavy, 400 - Crouching Light, 410 - Crouching Medium, 420 - Crouching Heavy, 600 - Jump Light, 610 - Jump Medium, 620 - Jump Heavy, 700 - Launcher, 710 - OTG Attack, 720 - Meteor Smash, 750 - Dash Attack, 801 - Throw 1 (p1), 1000 - Thunder Jolt (weak), 1001 - Thunder Jolt weak (spark), 1005 - Thunder Jolt (medium), 1006 - Thunder Jolt medium (spark), 1010 - Thunder Jolt (strong), 1011 - Thunder Jolt strong (spark), 1050 - Electro Ball (weak), 1051 - Electro ball weak (ball), 1055 - Electro Ball (medium), 1056 - Thunder Jolt medium (spark), 1060 - Electro Ball (strong), 1061 - Thunder Jolt strong (spark), 1100 - Thunder (weak), 1105 - Thunder (medium), 1110 - Thunder (strong), 1115 - Thunder (self), 1200 - Iron Tail, 1205 - Iron Tail (slam on the ground), 1300 - Quick Attack (horizontal), 1305 - Quick Attack (diagonal up), 1310 - Quick Attack (vertical), 1400 - Thunder punch (weak), 1405 - Thunder punch (medium), 1410 - Thunder punch (strong), 1500 - Discharge, 3000 - Thundershock, 3050 - Thundershock (air), 3200 - Wild Charge (start), 3500 - Volt Tackle, -2 - States that are always executed (use statedef -2)
;var(14):= 1205 - Iron Tail (slam on the ground), -2 - States that are always executed (use statedef -2)
;var(15):= -2 - States that are always executed (use statedef -2)
;var(16):= 1000 - Thunder Jolt (weak), 1005 - Thunder Jolt (medium), 1010 - Thunder Jolt (strong), 1050 - Electro Ball (weak), 1055 - Electro Ball (medium), 1060 - Electro Ball (strong), 1100 - Thunder (weak), 1105 - Thunder (medium), 1110 - Thunder (strong), 1115 - Thunder (self), 1150 - Thunder (Guard Cancel), 1300 - Quick Attack (horizontal), 1305 - Quick Attack (diagonal up), 1310 - Quick Attack (vertical), 1400 - Thunder punch (weak), 1405 - Thunder punch (medium), 1410 - Thunder punch (strong), 1500 - Discharge, 3000 - Thundershock, 3050 - Thundershock (air), 3200 - Wild Charge (start), 3500 - Volt Tackle
;var(17):= 3100 - Skull Bash, 3150 - Skull Bash Air
;var(21):= 1001 - Thunder Jolt weak (spark), 1006 - Thunder Jolt medium (spark), 1011 - Thunder Jolt strong (spark), 1051 - Electro ball weak (ball), 1056 - Thunder Jolt medium (spark), 1061 - Thunder Jolt strong (spark), 1101 - Thunder (lightning level 0), 1102 - Thunder (lightning level 1), 1103 - Thunder (lightning level 2), 1104 - Thunder (lightning level 3), 1116 - Self-Thunder (lightning level 0), 1117 - Self-Thunder (lightning level 1), 1118 - Self-Thunder (lightning level 2), 1119 - Self-Thunder (lightning level 3), -2 - States that are always executed (use statedef -2)
;var(22):= 3501 - Volt Tackle (Charge!)
;var(23):= 3501 - Volt Tackle (Charge!)
;var(24):= 3501 - Volt Tackle (Charge!)
;var(25):= 3501 - Volt Tackle (Charge!)
;var(26):= 3500 - Volt Tackle, 3501 - Volt Tackle (Charge!)
;var(38):= -2 - States that are always executed (use statedef -2)
;var(40):= -2 - States that are always executed (use statedef -2)
;var(42):= -2 - States that are always executed (use statedef -2)
;var(43):= -2 - States that are always executed (use statedef -2)
;var(46):= 1001 - Thunder Jolt weak (spark), 1006 - Thunder Jolt medium (spark), 1011 - Thunder Jolt strong (spark), 1051 - Electro ball weak (ball), 1056 - Thunder Jolt medium (spark), 1061 - Thunder Jolt strong (spark), 1101 - Thunder (lightning level 0), 1102 - Thunder (lightning level 1), 1103 - Thunder (lightning level 2), 1104 - Thunder (lightning level 3), 1116 - Self-Thunder (lightning level 0), 1117 - Self-Thunder (lightning level 1), 1118 - Self-Thunder (lightning level 2), 1119 - Self-Thunder (lightning level 3), -2 - States that are always executed (use statedef -2)

;---------------------- Float variable list ----------------------

; fvar(0):= 160 - Smashy Bubbly Thingy (Standby), 162 - Smashy Bubbly Thingy (Dust), 1900 - Charge Meter
; fvar(1):= 1900 - Charge Meter
; fvar(2):= 1900 - Charge Meter
; fvar(5):= 3000 - Thundershock, 3050 - Thundershock (air), 3100 - Skull Bash, 3150 - Skull Bash Air, 3200 - Wild Charge (start), 3201 - Wild Charge (Dash), 3202 - Wild Charge (Hit!), 3210 - Wild Charge (Lv. 0 finish), 3211 - Wild Charge (Lv. 1 link), 3212 - Wild Charge (Lv. 2 link), 3213 - Wild Charge (Lv. 3 finish), 3220 - Volt Shock Fist (Success!), 3221 - Volt Shock Fist (Finish), 3500 - Volt Tackle, -3
; fvar(6):= -2 - States that are always executed (use statedef -2)
;fvar(10):= -3
;fvar(11):= 200 - Standing Light, 210 - Standing Medium, 220 - Standing Heavy, 400 - Crouching Light, 410 - Crouching Medium, 420 - Crouching Heavy, 600 - Jump Light, 610 - Jump Medium, 620 - Jump Heavy, 700 - Launcher, 710 - OTG Attack, 720 - Meteor Smash, 750 - Dash Attack, 1001 - Thunder Jolt weak (spark), 1006 - Thunder Jolt medium (spark), 1011 - Thunder Jolt strong (spark), 1051 - Electro ball weak (ball), 1056 - Thunder Jolt medium (spark), 1061 - Thunder Jolt strong (spark), 1101 - Thunder (lightning level 0), 1102 - Thunder (lightning level 1), 1103 - Thunder (lightning level 2), 1104 - Thunder (lightning level 3), 1116 - Self-Thunder (lightning level 0), 1117 - Self-Thunder (lightning level 1), 1118 - Self-Thunder (lightning level 2), 1119 - Self-Thunder (lightning level 3), 1200 - Iron Tail, 1205 - Iron Tail (slam on the ground), 1300 - Quick Attack (horizontal), 1301 - Quick Attack 2nd hit(horizontal fwd), 1302 - Quick Attack 2nd hit diagonal up), 1303 - Quick Attack 2nd hit (vertical), 1305 - Quick Attack (diagonal up), 1306 - Quick Attack 2nd hit(horizontal fwd), 1307 - Quick Attack 2nd hit diagonal up air), 1308 - Quick Attack 2nd hit diagonal down air), 1309 - Quick Attack 2nd hit (air vertical down), 1310 - Quick Attack (vertical), 1311 - Quick Attack 2nd hit (air vertical up), 1400 - Thunder punch (weak), 1405 - Thunder punch (medium), 1410 - Thunder punch (strong), 1500 - Discharge, 3201 - Wild Charge (Dash), 3202 - Wild Charge (Hit!), 3210 - Wild Charge (Lv. 0 finish), 3211 - Wild Charge (Lv. 1 link), 3212 - Wild Charge (Lv. 2 link), 3213 - Wild Charge (Lv. 3 finish), 3220 - Volt Shock Fist (Success!), 3501 - Volt Tackle (Charge!), -2 - States that are always executed (use statedef -2)
;fvar(17):= 3101 - Skull Bash (charge!), 3151 - Skull Bash Air (charge!)


;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10
facep2 = ifelse(prevstateno=20,1,0)

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,0
channel = 1

[State 10, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

[State 11, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,1
channel = 1

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn
ignorehitpause = 1

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21


;-------------------------------------------------------------
;Jump start
[Statedef 40]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = Time = 0
var(5) = 0


[State 40, longjump];ƒƒ“ƒOƒWƒƒƒ“ƒv
type = VarSet
triggerall = var(59) <= 0
trigger1 = command = "longjump"
trigger2 = prevstateno = 101 && command = "holdfwd"
trigger3 = prevstateno = 420 && command = "holdup"
trigger4 = prevstateno = 920 && command = "holdup"
trigger5 = prevstateno = 2401 && command = "holdup"
var(5) = 1

[State 40, 4]
type = VarSet
trigger1 = var(59) <= 0
trigger1 = command = "holdfwd"
trigger2 = var(59) >= 1
trigger2 = p2Movetype = H || Random <= 500
sysvar(1) = 1

[State 40, 5]
type = VarSet
trigger1 = var(59) <= 0
trigger1 = command = "holdback"
trigger2 = var(59) >= 1
trigger2 = p2Movetype != H
sysvar(1) = -1

[State 40, 6]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;Jump
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = VelSet
trigger1 = Time = 0 && Var(5)
x = IfElse(vel x = 0,0,IfElse(vel x < 0,-5,6))
y = -12

[State 50, 3]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))


[State 50, 4];Žc‘œ
type = AfterImage
triggerall = Var(10) !=0
trigger1 = Time = 0 && Var(5) && Vel X != 0
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1


;Jump end
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47
velset = 0,0
facep2 = 1

[State 50,line1]
type = Explod
trigger1 = animelem = 1
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .7,.7

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 0
value = 5110, 0

[State 52, ctrl1]
type = CtrlSet
triggerall = Time = 1
trigger1 = PrevStateNo != [670,680]
value = 1

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Dash start
[Statedef 100]
type = S
movetype = I
physics = S
anim = 100
velset = 0
ctrl = 0

[State 100, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 101

;Dash
[Statedef 101]
type = S;A
movetype = I;A
physics = S;N
anim = 101
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nowalk
flag2 = noautoturn
ignorehitpause = 1

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = 0,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.3

[State 1200, 1]
type = Width
trigger1 = 1
value = 15,0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 10.6;const(velocity.run.fwd.x)

[State -3, Double Jump Sound]
type = PlaySnd
trigger1 = time = 0
value = 100,0

[State 101, 3]
type = ChangeState
triggerall = var(59) <= 0
trigger1 = command = "holdup"
value = 40

[State 100, 5.1]
type = ChangeState
triggerall = var(59) <= 0
trigger1 = time > 7
trigger1 = command != "holdfwd"
value = 102

;Dash end
[Statedef 102]
type = S
movetype = I
physics = S
velset = 9,0
anim = 102


[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 102, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1; RUN_BACK2 (land)

;---------------------------------------------------------------------------
; Hop backwards
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 100, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 103
postype = p1
pos = 0,2
bindtime = 1
sprpriority = 2
facing = -1
ownpal = 1
scale = .3,.3

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
; Hop backwards (land)
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 47

[State 50,line1]
type = Explod
trigger1 = animelem = 1
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .7,.7

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 0
value = 5110, 0


[State 106, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 106, 5]
type = ChangeState
trigger1 = Time = 7
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; Stand guard (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown"
value = 131

[State 130, OH SHI-]
type = ChangeState
trigger1 = var(6) && fvar(6) <= 0
value = 165

[State 130, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist && !var(6)
value = 140

;---------------------------------------------------------------------------
; Crouch guard (guarding)
[Statedef 131]
type    = C
physics = C

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown"
value = 130

[State 131, OH SHI-]
type = ChangeState
trigger1 = var(6) && fvar(6) <= 0
value = 165

[State 131, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist && !var(6)
value = 140

;---------------------------------------------------------------------------
; Air guard (guarding)
[Statedef 132]
type    = A
physics = N

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
triggerall = !var(6)
trigger1 = sysvar(0)
value = 52
[State 132, 7]
type = ChangeState
triggerall = var(6)
trigger1 = sysvar(0)
value = 130

[State 132, OH SHI-]
type = ChangeState
trigger1 = var(6) && fvar(6) <= 0
value = 166

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist && !var(6)
value = 140

;---------------------------------------------------------------------------
; Guard (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6    ;fv = 10
value = 0
ignorehitpause = 1

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
; Stand guard hit (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, LifeAdd]
type = LifeSet
trigger1 = var(6)
value = var(7)
ignorehitpause = 1

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 150
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; Stand guard hit (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 0, LifeAdd]
type = LifeSet
trigger1 = var(6)
value = var(7)
ignorehitpause = 1

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 0, VelMul]
type = VelMul
triggerall = var(6)
trigger1 = time = 0
x = 1.5
ignorehitpause = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; Crouch guard hit (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 0, LifeAdd]
type = LifeSet
trigger1 = var(6)
value = var(7)
ignorehitpause = 1
persistent = 1

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 151
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; Crouch guard hit (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 0, LifeAdd]
type = LifeSet
trigger1 = var(6)
value = var(7)
ignorehitpause = 1

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 0, VelMul]
type = VelMul
triggerall = var(6)
trigger1 = time = 0
x = 1.5
ignorehitpause = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; Air guard hit (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, LifeAdd]
type = LifeSet
trigger1 = var(6)
value = var(7)
ignorehitpause = 1
persistent = 1

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 152
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; Air guard hit (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 0, LifeAdd]
type = LifeSet
trigger1 = var(6)
value = var(7)
ignorehitpause = 1

[State 173, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 0, VelMul]
type = VelMul
triggerall = var(6)
trigger1 = time = 0
x = 1.5
y = 1.5
ignorehitpause = 1

[State 173, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 173, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 173, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 173, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 173, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 173, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 173, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;-------------------------------------------------------------------------------
; Smashy Bubbly Thingy (Standby)
[Statedef 160]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 5

[State 0, Helper]
type = Helper
triggerall = root, statetype != A
trigger1 = time %14 = 0
helpertype = normal ;player
name = "Dust"
ID = 162
stateno = 162
pos = 0,40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
triggerall = anim = 160
triggerall = root,time = 1
trigger1 = (root,stateno = 150) || (root,stateno = 152) || (root,stateno = 154)
time = 3
add = 250,150,150
[State 0, PalFXWiz]
type = PalFX
triggerall = anim = 161
triggerall = root,time = 1
trigger1 = (root,stateno = 150) || (root,stateno = 152) || (root,stateno = 154)
time = 3
add = 150,150,250
[State 0, PalFXWiz]
type = PalFX
triggerall = anim = 162
triggerall = root,time = 1
trigger1 = (root,stateno = 150) || (root,stateno = 152) || (root,stateno = 154)
time = 3
add = 250,250,250

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = parent,ailevel = 0
trigger1 = teamside = 1
value = 160
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = parent,ailevel = 0
trigger1 = teamside = 2
value = 161
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent,ailevel > 0
value = 162
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
;trigger1 = root, statetype = S
trigger1 = root, anim = 120
trigger2 = root, anim = 130
trigger3 = root, anim = 140
trigger4 = root, anim = 150
time = 1
facing = 0
pos = 0, -25
ignorehitpause = 1
[State 0, BindToRoot]
type = BindToRoot
;trigger1 = root, statetype = C
trigger1 = root, anim = 121
trigger2 = root, anim = 131
trigger3 = root, anim = 141
trigger4 = root, anim = 151
time = 1
facing = 0
pos = 0, -15
ignorehitpause = 1
[State 0, BindToRoot]
type = BindToRoot
;trigger1 = root, statetype = A
trigger1 = root, anim = 122
trigger2 = root, anim = 132
trigger3 = root, anim = 142
trigger4 = root, anim = 152
time = 1
facing = 0
pos = 0, -40
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 0    ;fv = 10
value = root,fvar(6)
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S160,0
channel = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1*fvar(0),1*fvar(0)
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root, var(6) = 0
trigger2 = root,stateno = [5000,5300]
trigger3 = root,anim != [120,159]
value = 161
ctrl = 0
ignorehitpause = 1

;-------------------------------------------------------------------------------
; Smashy Bubbly Thingy (Exit)
[Statedef 161]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 5
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = root, stateno != [5000,5999]
value = S160,1
channel = 1
persistent = 0
ignorehitpause = 1

[state 120]
type = destroyself
trigger1 = time = 1

;-------------------------------------------------------------------------------
; Smashy Bubbly Thingy (Dust)
[Statedef 162]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = 5

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 0    ;fv = 10
value = root,fvar(6)
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, statetype != A
time = 1
facing = 0
pos = 0,0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6007
ID = 6007
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (.5*fvar(0)),(.5*fvar(0))
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6010
ID = 6010
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (.5*fvar(0)),(.5*fvar(0))
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time
ignorehitpause = 1

;---------------------------------------------------------------------------
; Shield Break - Ground
[Statedef 165]
type = U
movetype = H
physics = S
velset = -10,0
anim = ifelse(statetype=C,166,165)
sprpriority = 0
ctrl = 0

[State 0, StunVar]
type = VarSet
trigger1 = 1
v = 8    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S161,0
channel = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0 
anim = 6208
ID = 165
pos = 10,ifelse(anim = 166,-30,-60)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time <= 6
value = SCA
time = 1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 165 && animtime = 0
value = 168
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 166 && animtime = 0
value = 169
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 36
value = 5300
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Shield Break - Air
[Statedef 166]
type = A
movetype = H
physics = N
velset = 0,0
anim = 167
sprpriority = 0
ctrl = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = -2
y = -12

[State 0, Gravity]
type = Gravity
trigger1 = time > 1

[State 0, StunVar]
type = VarSet
trigger1 = 1
v = 8    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S161,0
channel = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0 
anim = 6208
ID = 165
pos = 10,-90
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time <= 6
value = SCA
time = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 30*time
ignorehitpause = 1

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5100 ;Downed get-hit (hit ground from fall)

;Lose
[Statedef 170]
type = S
ctrl = 0
anim = 170;5300
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S170,0
channel = 0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S100,1
channel = 1
ignorehitpause = 1

[State 170, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;Pikachu is no longer able to fight!
[Statedef 171]
type = S
ctrl = 0
anim = 5151
velset = 0,0
sprpriority = -1

[State 50,line1]
type = Explod
trigger1 = animelem = 6
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .7,.7

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 5110, 0

[state 170, 1]
type = nothitby
trigger1 = 1
value = sca
time = 1

;---------------------------------------------------------------------------
;Winstate decider
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 10
range = 10,12

[State 180, 2]
type = VarSet
trigger1 = Matchover != 1
v = 10
value = 11

[State 180, 2]
type = VarSet
trigger1 = Matchover = 1
v = 10
value = 12

[State 180, 3];win1
type = ChangeState
trigger1 = Var(10) = 11
value = 181

[State 180, 4];win2
type = ChangeState
trigger1 = Var(10) = 12
value = 182

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 181;0+random%2
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 160
flag = roundnotover
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2
; CNS difficulty: basic
[Statedef 182]
type = S
ctrl = 0
anim = 182;0+random%2
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 160
flag = roundnotover
ignorehitpause = 1

[State 105, 1]
type = VelSet
trigger1 = animelem = 3
y = -9.5

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 3
value = 180, 0

[State 105, 2]
type = StatetypeSet
trigger1 = animelem = 3
statetype = A
physics = A

[State 105, 2]
type = StatetypeSet
trigger1 = animelem = 19
physics = N

[State 105, 1]
type = VelSet
trigger1 = animelem = 20
y = 0

[State 105, 2]
type = Posset
trigger1 = animelem = 20
y = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 20
trigger2 = animelem = 29
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .7,.7

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 20
trigger2 = animelem = 29
value = 5110, 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;Intro
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0
sprpriority = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = roundstate = 0
value = 191
ignorehitpause = 1

[State 50,line1]
type = Explod
trigger1 = animelem = 3
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .7,.7

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 3
value = 5110, 0

[State 4500, charge]
type = Helper
trigger1 = animelem = 2
id = 193
name = "Pikachu jumps into the stage"
pos = -120,-50
postype = P1
stateno = 193
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 6
value = 190,0
channel = 0

[state 190, 2]
type = assertspecial
trigger1 = 1
flag = intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Intro - Pikachu jumps
[Statedef 193]
type = S
physics = N
ctrl = 0
anim = 190
velset = 4,-6
sprpriority = 0

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = pos y >= 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Taunt 
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 2
value = 195,1
channel = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Charge
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
triggerall = var(13) < 300
triggerall = anim = 196
trigger1 = animelemtime(5) >= 0
v = 13    ;fv = 
value = 2
ignorehitpause = 1

[State 50,line1]
type = Explod
triggerall = anim = 196
trigger1 = animelemtime(5) >= 0
trigger1 = time%10=0
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .8,.8

[State 0, PalFX]
type = PalFX
triggerall = anim = 196
trigger1 = animelemtime(5) >= 0
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 191, aura]
type = PlaySnd
triggerall = anim = 196
trigger1 = AnimElem = 5
value = 195,0
channel = 0

[State 191, aura]
type = PlaySnd
triggerall = anim = 196
trigger1 = AnimElem = 6
value = 1810,0
channel = 3
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 198
channel = 0
persistent = 0

[State 50,line1]
type = Explod
triggerall = anim = 196
trigger1 = animelem = 6
anim = 197
id = 196
postype = p1
pos = 0, 0
ownpal = 1
removetime = -1
bindtime = -1
sprpriority = 5
ignorehitpause = 0
ontop = 1
removeongethit = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim = 196 && animelemtime(6) >= 0
trigger1 = command != "hold_c"
;trigger2 = var(13) >= 300
value = 198
elem = 1
ignorehitpause = 1

[State 195, 2]
type = ChangeState
triggerall = anim = 196
triggerall = var(16) >= 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
value = 1500

[State 195, 2]
type = ChangeState
triggerall = anim = 198
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light
[Statedef 200]
type    = S				;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A				;Move-type: A-attack, I-idle, H-gethit
physics = S				;Physics: S-stand, C-crouch, A-air
juggle  = 0;1				;Number of air juggle points move takes
;Commonly-used controllers:
anim = 200
velset = ifelse((prevstateno=[100,101]),(vel x),0),0			;Set velocity (x,y) (Def: no change)
ctrl = 0				;Set ctrl (Def: no change)
poweradd = 20			;Power to add (Def: 0)
sprpriority = 2			;Set layering priority to 2 (in front)

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 3
ignorehitpause = 1

[State 50,line1]
type = Explod
trigger1 = animelem = 2
anim = 201
id = 201
postype = p1
pos = 24, -20
ownpal = 1
bindtime = -1
sprpriority = 5
ignorehitpause = 0
ontop = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.96
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S210,0

[State 200, voice]
type = PlaySnd
trigger1 = !time
;trigger1 = random <= 500
value = 200,0

[State 200, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA			;Attribute: Standing, Normal Attack
damage = ceil(20*fvar(11)), 0			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6200				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = -15, -20		;X-offset for the "hit spark" rel. to p2,
hitsound = s5, 9			;Sound to play on hit
guardsound = s6, 0			;Sound to play on guard
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 10+1*(var(42))
guard.slidetime = 3
ground.hittime = 10+1*(var(42))
guard.hittime = 3
air.hittime = 10
air.fall = 0+1*(var(42))
ground.velocity = -3		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-2		;X-velocity at which opponent is pushed,
palfx.time = 30
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 0
channel = 5
persistent = 0

[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 4
movetype = I        ;I,A,H

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium
; CNS difficulty: easy
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 20
ctrl = 0
velset = ifelse((prevstateno=[100,101]),(vel x),0),0
anim = 210
sprpriority = 2

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 6
ignorehitpause = 1

[State 50,line1]
type = Explod
trigger1 = animelem = 2
anim = 211
id = 211
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 4
sprpriority = -1
scale = 1.2,1.2
ignorehitpause = 0
removeongethit = 1
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 4
ID = 211
sprpriority = 3
ontop = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA			;Attribute: Standing, Normal Attack
damage = ceil(42*fvar(11)), 0			;Damage that move inflicts, guard damage
animtype = Medium			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 8, 10			;Time attacker pauses, time opponent shakes
sparkno = S6201				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = -15, -19		;X-offset for the "hit spark" rel. to p2,
hitsound = s5, 1			;Sound to play on hit
guardsound = s6, 0			;Sound to play on guard
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 18+1*(var(42))
guard.slidetime = 12
ground.hittime = 18+1*(var(42))
guard.hittime = 12
air.hittime = 18
air.fall = 0+1*(var(42))
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -2.4,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.5,-2		;X-velocity at which opponent is pushed,
					;Y-velocity at which opponent is pushed
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.93
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = prevstateno = 200 || prevstateno = 400
trigger1 = time = 0 
x = 4
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,1

[State 200, voice]
type = PlaySnd
trigger1 = !time
trigger1 = random <= 500
value = 200,1

[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 7
movetype = I        ;I,A,H

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Heavy
; CNS difficulty: easy
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0;5
poweradd= 30
ctrl = 0
velset = ifelse((prevstateno=[100,101]),(vel x),0),0
anim = 220

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 9
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.85
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0 
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
x = 6
ignorehitpause = 1

[State 200, voice]
type = PlaySnd
trigger1 = !time
trigger1 = random <= 500
value = 200,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S210,1

[State 50,line1]
type = Explod
trigger1 = animelem = 8
anim = 221
id = 221
postype = p1
pos = 42,-30
ownpal = 1
bindtime = 4
sprpriority = 5
ignorehitpause = 0
removeongethit = 1
ontop = 0

[State 200, 1]
type = HitDef
trigger1 = !time
attr = S, NA			;Attribute: Standing, Normal Attack
damage = ceil(60*fvar(11)), 0			;Damage that move inflicts, guard damage
animtype = Heavy			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 5, 8			;Time attacker pauses, time opponent shakes
sparkno = S6202				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = -30, -20		;X-offset for the "hit spark" rel. to p2,
					;Y-offset for the spark rel. to p1
hitsound = s5, 11			;Sound to play on hit
guardsound = s6, 0			;Sound to play on guard
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 18+1*(var(42))
guard.slidetime = 12
ground.hittime = 18+1*(var(42))
guard.hittime = 12
air.hittime = 18
air.fall = 1
ground.velocity =  -7		;Velocity at which opponent is pushed
airguard.velocity = -2.4,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity =  -5,-3		;X-velocity at which opponent is pushed,
palfx.time = 30
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 2
channel = 5
persistent = 0

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light
; CNS difficulty: easy
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 0;5
poweradd= 20
ctrl = 0
anim = 400

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 3
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.96
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0 
trigger1 = prevstateno = 200
x = 3.5
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0

[State 200, voice]
type = PlaySnd
trigger1 = !time
trigger1 = random <= 500
value = 200,0

[State 400, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = ceil(15*fvar(11)),0
pausetime = 5,6
sparkno = S6200
guard.sparkno = s6220
sparkxy = -14,-38
hitsound = S5,3
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 10+1*(var(42))
guard.slidetime = 5
ground.hittime = 10+1*(var(42))
guard.hittime = 5
air.hittime = 10
air.fall = 0+1*(var(42))
ground.velocity = -3,0
air.velocity = -1,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0


[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 3
movetype = I        ;I,A,H
ignorehitpause = 1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 0;5
poweradd= 20
ctrl = 0
anim = 410

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 6
ignorehitpause = 1

[State 50,line1]
type = Explod
trigger1 = animelem = 2
anim = 411
id = 411
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -1
scale = 1,1
ignorehitpause = 0
removeongethit = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.93
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0 
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
x = 2.5
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = animelemtime(3) >= 0
player = 20,0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,1

[State 200, voice]
type = PlaySnd
trigger1 = !time
trigger1 = random <= 500
value = 200,1

[State 400, hit]
type = HitDef
trigger1 = !time
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Medium
priority = 3,Hit
damage = ceil(45*fvar(11)),0
pausetime = 6,8
sparkno = S6201
guard.sparkno = s6220
sparkxy = 0,-15
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 14+1*(var(42))
guard.slidetime = 12
ground.hittime = 14+1*(var(42))
guard.hittime = 12
air.hittime = 14
air.fall = 0+1*(var(42))
ground.velocity = -5,0
air.velocity = -3.5,-2


[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 6
movetype = I        ;I,A,H
ignorehitpause = 1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Heavy
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 0;6
poweradd= 30
ctrl = 0
anim = 420
sprpriority = 2

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 9
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 4,2

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random <= 500
value = 200,2

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 
x = 3
ignorehitpause = 1

[State 0, VelSet]
type = VelAdd
triggerall = time = 0 
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
x = 5
ignorehitpause = 1

[State 400, hit]
type = HitDef
trigger1 = !time
attr = C, NA
hitflag = M
guardflag = L
animtype = Heavy
priority = 3,Hit
damage = ceil(65*fvar(11)),0
pausetime = 10,10
sparkno = S6202
guard.sparkno = s6220
sparkxy = 0,0
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 20+1*(var(42))
guard.slidetime = 14
ground.hittime = 20+1*(var(42))
guard.hittime = 14
air.hittime = 0
ground.velocity = -8,0
air.velocity =  -4,-2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 5
movetype = I        ;I,A,H
ignorehitpause = 1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jump Light
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 0;2
poweradd= 20
ctrl = 0
anim = 600

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 3
ignorehitpause = 1

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random <= 500
value = 200,0

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.96
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0

[State 200, 1]
type = HitDef
trigger1 = animelem = 2
attr = A, NA			;Attribute: Standing, Normal Attack
damage = ceil(20*fvar(11)), 0			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 5, 7			;Time attacker pauses, time opponent shakes
sparkno = S6200				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = -10, -30		;X-offset for the "hit spark" rel. to p2,
					;Y-offset for the spark rel. to p1
hitsound = s5, 0			;Sound to play on hit
guardsound = s6, 0			;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 14+1*(var(42))
guard.slidetime = 8
ground.hittime = 14+1*(var(42))
guard.hittime = 8
air.hittime = 14
air.fall = 0+1*(var(42))
ground.velocity = -1		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-3		;X-velocity at which opponent is pushed,
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
;---------------------------------------------------------------------------
; Jump Medium
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 0;3
poweradd= 20
ctrl = 0
anim = 610

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 6
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.93
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0 && p2statetype = A
trigger1 = prevstateno = 600
x = 3
y = -4
ignorehitpause = 1

[State 0, VelSet]
type = VelAdd
triggerall = vel x < 0 || prevstateno = 600
trigger1 = animelem = 3
x = -1.5
ignorehitpause = 1

ignorehitpause = 1
[State 0, VelSet]
type = VelAdd
triggerall = vel y < 0 || prevstateno = 600
trigger1 = animelem = 3
y = -1.5
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,1

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random <= 500
value = 200,1

[State 650, hit]
type = HitDef
trigger1 = !time
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Medium
air.animtype = DiagUp
priority = 3,Hit
damage = ceil(46*fvar(11)),0
pausetime = 8,8
sparkno = S6201
guard.sparkno = s6220
sparkxy = -10,-50
hitsound = S5,1
guardsound = S6,0
ground.type = High
air.type = High
ground.type = high
ground.slidetime = 15+1*(var(42))
ground.hittime  = 15+1*(var(42))
guard.hittime = 10
guard.slidetime = 10
air.fall = 1
ground.velocity = -2
air.velocity = -2,-3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0


[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 4
movetype = I        ;I,A,H

;---------------------------------------------------------------------------
; Jump Heavy
; CNS difficulty: easy
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 0;4
poweradd= 30
ctrl = 0
anim = 620

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 9
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0 && p2statetype = A
trigger1 = prevstateno = 600
trigger2 = prevstateno = 610
x = 3
y = -5.5
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,2

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random <= 500
value = 200,2

[State 200, 1]
type = HitDef
trigger1 = !time
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
priority = 3,Hit
damage = ceil(65*fvar(11)),0
pausetime = 10,12
sparkno = S6202
guard.sparkno = s6220
sparkxy = -20,-40
hitsound = S5,2
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 25+1*(var(42))
guard.slidetime = 5
ground.hittime = 25+1*(var(42))
guard.hittime = 5
air.hittime = 25
air.fall = 1
ground.velocity = -3.5,0
air.velocity = -3.5,-4.5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0


[State 50,line1]
type = Explod
trigger1 = animelem = 4
anim = 621
postype = p1
pos = 0, 10
ownpal = 1
bindtime = -1
sprpriority = 5
scale = 1.2,1.2
ignorehitpause = 0
ontop = 0
removeongethit = 1

[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 7
movetype = I        ;I,A,H

;---------------------------------------------------------------------------
; Launcher
[Statedef 700]
type    = S
movetype= A
physics = S
juggle  = 0;3
poweradd= 30
ctrl = 0
velset = ifelse(prevstateno=100,(vel x),0),0
sprpriority = 2
anim = 700

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 12
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
triggerall = animelemtime(5) < 0
trigger1 = prevstateno != 200 
trigger1 = prevstateno != 400
trigger1 = prevstateno != 210
trigger1 = prevstateno != 410
trigger1 = prevstateno != 220
trigger1 = prevstateno != 420
value = 0
movecamera = 1,1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
triggerall = animelemtime(5) < 0
trigger1 = prevstateno != 200 
trigger1 = prevstateno != 400
trigger1 = prevstateno != 210
trigger1 = prevstateno != 410
trigger1 = prevstateno != 220
trigger1 = prevstateno != 420
value = SCA,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = animelem = 2
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
trigger5 = prevstateno = 220
trigger6 = prevstateno = 420
x = 6
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = random <= 500
value = 200,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S210,2

[State 50,line1]
type = Explod
trigger1 = animelem = 5
anim = 621
postype = p1
pos = 0, 10
ownpal = 1
bindtime = -1
sprpriority = 5
scale = 1.2,1.2
ignorehitpause = 0
ontop = 0
removeongethit = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
hitflag = MAF
guardflag = M
animtype = Up
air.animtype = DiagUp
priority = 5,Hit
damage = ceil(80*fvar(11)),0
pausetime = 8,8
sparkno = S6202
guard.sparkno = s6220
sparkxy = 10,-50
hitsound = S5,2
guardsound = S6,0
ground.type = low
air.type = Low
ground.slidetime = 20+1*(var(42))
guard.slidetime = 15
ground.hittime = 20+1*(var(42))
guard.hittime = 15
air.hittime = 20
ground.velocity = -1,-10
air.velocity = -3,-8
yaccel = .5
guard.velocity = -8
fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 420, jump]
type = ChangeState
trigger1 = movecontact && animelem >= 8 && Command = "holdup"
trigger1 = moveguarded = 0
value = 40
ctrl = 1

[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 9
movetype = I        ;I,A,H

[State 50,line1]
type = Explod
trigger1 = animelem = 9
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .7,.7

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 9
value = 5110, 0

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; OTG Attack
[Statedef 710]
type    = S
movetype= A
physics = C
juggle  = 0;5
poweradd= 20
ctrl = 0
anim = 710
sprpriority = 2

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 12
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0 
trigger1 = prevstateno = 200
trigger2 = prevstateno = 400
trigger3 = prevstateno = 210
trigger4 = prevstateno = 410
trigger5 = prevstateno = 220
trigger6 = prevstateno = 420
x = 6
ignorehitpause = 1

[State 910, hit]
type = HitDef
trigger1 = !time
attr = C, NA
hitflag = MAFd
guardflag = L
animtype = Diagup
air.animtype = Diagup
fall.animtype = Back
priority = 5,Hit
damage = ceil(80*fvar(11)),0
pausetime = 5,8
sparkno = S6202
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,11
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 20+2*(var(42))
guard.slidetime = 15
ground.hittime = 20+2*(var(42))
guard.hittime = 15
air.hittime = 20
ground.velocity = -4,-4
air.velocity = -4,-2
fall = 1
palfx.time = 60
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 12
trigger1 = random <= 500
value = 200,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S210,3

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 60
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 2
channel = 5
persistent = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 13
anim = 711
id = 711
postype = p1
pos = 10,0
ownpal = 1
bindtime = 1
sprpriority = 5
ignorehitpause = 0
removeongethit = 1
ontop = 0

[State 100, dust]
type = Explod
trigger1 = animelem = 13
anim = 103
postype = p1
pos = 100,2
bindtime = 1
sprpriority = -1
ownpal = 1
facing = -1
scale = .4,.4

[State 0, Recovery]
type = StateTypeSet
trigger1 = animelem = 25
movetype = I        ;I,A,H
ignorehitpause = 1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Meteor Smash
[Statedef 720]
type    = A
movetype= A
physics = A
juggle  = 0;5
poweradd= 30
ctrl = 0
anim = 720

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 12
ignorehitpause = 1

[State 50,line1]
type = Explod
trigger1 = animelem = 6
anim = 621
postype = p1
pos = -5, -105
ownpal = 1
bindtime = -1
sprpriority = 5
scale = 1.2,1.2
vfacing = -1
ignorehitpause = 0
ontop = 0
removeongethit = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = prevstateno = 101
trigger2 = prevstateno = 106
y = -5
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0 && p2statetype = A 
trigger1 = prevstateno = 600
trigger2 = prevstateno = 610
trigger3 = prevstateno = 620
x = 5
y = -4
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,4

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = random <= 500
value = 200,3

[State 620, hit]
type = HitDef
trigger1 = !time
id = 720
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = ceil(80*fvar(11)),0
pausetime = 5,5
sparkno = S6202
guard.sparkno = s6220
sparkxy = -10,0
hitsound = S5,8
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 30
ground.hittime  = 30
guard.slidetime = 10
guard.hittime  = 10
ground.velocity = -5
air.velocity = -5,8
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State Groundbounce]
type = TargetState
triggerall = var(42)
trigger1 = numtarget(720)
trigger1 = var(21) = 1
trigger1 = !(target(720),ishelper) || (PlayerIDExist((target(720),id)) )
trigger1 = target(720),statetype=A
value = 725
ID = 720
ignorehitpause = 1
persistent = 0

;----------------------------------------------------------------------
;Groundbounce'd -Sent Flying
[Statedef 725]
type = A
movetype = H
physics = N

[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5061),5061,5050)
ignorehitpause = 1
[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = time = 0
value = anim
elem = animelemno(99)
ignorehitpause = 1

[State 0, HitVelSet]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1
ignorehitpause = 1
[State 0, HitFallSet]
type = HitFallSet
trigger1 = time = 0
value = 1
[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = hitshakeover
y = gethitvar(yaccel)

[State 821, 4] ;Hit ground
type = ChangeState
Trigger1 = hitshakeover
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 20
value = 726 ;Hit ground

;----------------------------------------------------------------------
;Groundbounce'd -Slam into ground
[Statedef 726]
type = A
movetype = H
physics = N

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F60
pos = 0, 0
sprpriority = -2
supermovetime = 65535
pausemovetime = 65535
scale = 0.5,3
[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F61
pos = 0, 0
sprpriority = -2
supermovetime = 65535
pausemovetime = 65535
scale = 1,2
[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F62
pos = 0, 0
sprpriority = -2
supermovetime = 65535
pausemovetime = 65535
scale = 2,2

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 2

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 727

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; Groundbounce'd -Bounce into air
[Statedef 727]
type    = A
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160
[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = VelSet
trigger1 = Time = 0
x = -2
y = -8
[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = gethitvar(yaccel)

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 20
type = SelfState
value = 5110

;----------------------------
;Dash Attack
[Statedef 750]
type = A
movetype= A
physics = A
juggle  = 0;4 
velset = const(velocity.run.fwd.x),-5
ctrl = 0                   
anim = 750        
poweradd = 30

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 12
ignorehitpause = 1

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 0
value = 5110, 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -5
;ignorehitpause = 
;persistent = 

[State 200, voice]
type = PlaySnd
trigger1 = time = 0
value = 200,4

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = 0,15
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.4

[State 920, hit]
type = HitDef
trigger1 = time = 0
id = 750
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = ceil(80*fvar(11)),0
pausetime = 10,10
sparkno = S6202
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,5
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, Wallbounce]
type = TargetState
triggerall = numtarget(750)
triggerall = target(750), stateno != [751,757]
trigger1 = movehit && var(15) = 0
trigger1 = var(42)
value = 751
ignorehitpause = 1
persistent = 0

[State 821, 4] ;Hit ground
type = Changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -1
value = 759

;----------------------------
;Dash Attack (end)
[Statedef 759]
type = S
movetype= A
physics = N
juggle  = 0;4 
velset = 8.6,0
ctrl = 0                   
anim = 755       

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 9
physics = S         ;A,C,S,N
;ignorehitpause = 
;persistent = 


[State 50,line1]
type = Explod
trigger1 = animelem = 1
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .7,.7

[State 50,line1]
type = Explod
trigger1 = animelem = 1
anim = 8104
postype = p1
pos = 30, 0
ownpal = 1
bindtime = -1
sprpriority = 5

[State 52, Landing Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1400, 0

[State 821, 4] ;Hit ground
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------
; Wallbounce'd - shaking from the hit
; (a custom gethit state)
; See State 750 for details
[Statedef 751]
type    = A
movetype= H
physics = N
velset = 0,0

[State 751, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 751

[State 751, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 752

;------------------
; Wallbounce'd - flying through the air
; (a custom gethit state)
[Statedef 752]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = selfanimexist(5900) = 1
trigger1 = anim != 5900
value = 5900
ignorehitpause = 1

[State 752, Velocity]
type = VelSet
trigger1 = Time = 0
x = -8
y = -2

[State 752, No scroll]
type = ScreenBound
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 752, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 753

;------------------
; Wallbounce'd - hit wall
; (a custom gethit state)
[Statedef 753]
type    = A
movetype= H
physics = N

[State 753, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 753, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 753, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 753, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 753, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 753, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 753

[State 753, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 753, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 754

;------------------
; Wallbounce'd - bounce off wall
; (a custom gethit state)
[Statedef 754]
type    = A
movetype= H
physics = N

[State 754, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 754, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 754, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 754, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 754, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 754, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 754, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 754, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 754, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Wallstuck - shaking from the hit
; (a custom gethit state)
; See State 750 for details
[Statedef 755]
type    = A
movetype= H
physics = N
velset = 0,0

[State 751, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 751

[State 751, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 756

;------------------
; Wallstuck - flying through the air
; (a custom gethit state)
[Statedef 756]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = selfanimexist(5900) = 1
trigger1 = anim != 5900
value = 5900
ignorehitpause = 1

[State 752, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 752, No scroll]
type = ScreenBound
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 752, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 757

;------------------
; Wallstuck - stick to wall
; (a custom gethit state)
[Statedef 757]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = -999
ignorehitpause = 1

[State 753, Pos]
type = null;PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 753, Stop moving]
type = PosFreeze
trigger1 = time = 0
x = 1
y = 1

[State 753, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 753, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 753, Anim]
type = ChangeAnim
trigger1 = selfanimexist(5051) = 1
value = 5051
[State 753, Anim]
type = ChangeAnim2
trigger1 = selfanimexist(5051) = 0
value = 5051

[State 753, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 20
y = .2
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = pos y >= -const(size.mid.pos.y)
trigger1 = vel y > 0
value = 5110
ignorehitpause = 1

;Throw (start)
[Statedef 800]
type = S
movetype= A
physics = S
juggle = 0;0
velset = 0,0
ctrl = 0
anim = 800

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3    ;fv = 10
value = ifelse(command = "holdback",-1,1)
ignorehitpause = 1

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
trigger1= var(38)=0; opponent is not in an unthrowable situation
attr = S, NT
hitflag = M
priority = 1, hit;Miss
sparkno = -1
sprpriority = 1
p1stateno = 801
p2stateno = 802
fall = 1
p1facing = ifelse(command = "holdback",-1,1)
p2facing = -1;ifelse(command = "holdback",1,-1)
givepower = 50
getpower = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Throw 1 (p1)
[Statedef 801]
type    = S
movetype= A
physics = N
anim = 801
poweradd = 60

[State 801, Throw Explod]
type = Explod
trigger1 = time = 0
anim = 8015
ID = 8015
postype = p1
facing = -1
pos = 30,-30
sprpriority = 5
ontop = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = animelemtime(4) >= 0
trigger1 = animelemtime(7) < 0
value = 2
ignorehitpause = 1
[State 0, SprPriority]
type = SprPriority
trigger1 = animelemtime(4) < 0
trigger2 = animelemtime(7) >= 0
value = 4
ignorehitpause = 1

[State 860, 2]
type = PlayerPush
trigger1 = AnimElem = 1
value = 1

[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 1
pos = 25,0
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 2
pos = 20,0
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 3
pos = 19,-40
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 4
pos = 10,-65
;[State 0, TargetFacing]
;type = TargetFacing
;trigger1 = AnimElem = 5
;value = 1
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 5,-60
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 6
pos = 5,-35
[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 26
value = 803
[State 810, Hurt 11]
type = TargetLifeAdd
triggerall = time >= 20 && time <= 83
trigger1 = time%5 = 0
value = -6
kill = 0
[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 26
value = -22
kill = 1
[State 0, VarSet]
type = VarAdd
triggerall = time >= 20 && time <= 83
trigger1 = time%5 = 0
v = 13    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarSet]
type = VarAdd
trigger1 = AnimElem = 26
v = 13    ;fv = 10
value = 9
ignorehitpause = 1

[State 50,line1]
type = Explod
triggerall = time >= 20 && time <= 90
trigger1 = time%10=0
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .8,.8

[State 0, PalFX]
type = PalFX
triggerall = time >= 20 && time <= 90
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 191, aura]
type = PlaySnd
triggerall = time >= 20 && time <= 60
trigger1 = time%10 = 0
value = 800,1
[State 191, aura]
type = PlaySnd
triggerall = time >= 20 && time <= 80
trigger1 = time%10 = 0
value = 5,9

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = animelem = 6
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 100
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 800,0
;ignorehitpause = 
;persistent = 

[state 7010, BURNING]
type = playsnd
trigger1 = animelem = 28
value = 3, 0

[State 50,line1]
type = Explod
trigger1 = animelem = 6
anim = 197
id = 197
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
removetime = 60
sprpriority = 5
ignorehitpause = 0
ontop = 1
scale = 1.2,1.2

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Throw (P2 grabbed)
[Statedef 802]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = time = 0
value = 3

[State 620, 4]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, PalFX]
type = PalFX
triggerall = time >= 24 && time <= 89
trigger1 = time%3 = 0
time = 30
add = 50,100,250
sinadd = -50,-50,-50,4
color = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 802

;---------------------------------------------------------------------------
; Opponent thrown into the air
[Statedef 803]
type    = A
movetype= H
physics = N
velset = 4,-4
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 803

[State 0, PalFX]
type = PalFX
triggerall = time >= 0 && time <= 100
trigger1 = time%3 = 0
time = 30
add = 50,100,250
sinadd = -50,-50,-50,4
color = 0

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;Throw 2 (p1)
[Statedef 805]
type    = S
movetype= A
physics = N
anim = 805
poweradd = 60

[State 801, Throw Explod]
type = Explod
trigger1 = time = 0
anim = 8015
ID = 8015
postype = p1
facing = -1
pos = 30,-30
sprpriority = 5
ontop = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 1
value = 4
ignorehitpause = 1
[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 3
value = 0
ignorehitpause = 1
[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 5
value = 4
ignorehitpause = 1


[State 860, 2]
type = PlayerPush
trigger1 = AnimElem = 1
value = 1

[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 1
pos = 25,0
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 2
pos = 20,0
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 3
pos = 4,0
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 4
pos = 4,0
[State 0, Turn]
type = Turn
trigger1 = AnimElem = 4
[State 0, TargetFacing]
type = TargetFacing
trigger1 = AnimElem = 3
value = 1
ignorehitpause = 1
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 19,-40
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 6
pos = 10,-65
;[State 0, TargetFacing]
;type = TargetFacing
;trigger1 = AnimElem = 5
;value = 1
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 7
pos = 5,-60
[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 8
pos = 5,-35
[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 28
value = 803
[State 810, Hurt 11]
type = TargetLifeAdd
triggerall = time >= 20 && time <= 83
trigger1 = time%5 = 0
value = -6
kill = 0
[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 26
value = -22
kill = 1
[State 0, VarSet]
type = VarAdd
triggerall = time >= 20 && time <= 83
trigger1 = time%5 = 0
v = 13    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarSet]
type = VarAdd
trigger1 = AnimElem = 26
v = 13    ;fv = 10
value = 9
ignorehitpause = 1

[State 50,line1]
type = Explod
triggerall = time >= 25 && time <= 93
trigger1 = time%10=0
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .8,.8

[State 0, PalFX]
type = PalFX
triggerall = time >= 25 && time <= 93
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 191, aura]
type = PlaySnd
triggerall = time >= 20 && time <= 60
trigger1 = time%10 = 0
value = 800,1


[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = animelem = 8
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 100
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = animelem = 30
value = 3, 0

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 800,0
;ignorehitpause = 
;persistent = 

[State 50,line1]
type = Explod
trigger1 = animelem = 8
anim = 197
id = 197
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
removetime = 60
sprpriority = 5
ignorehitpause = 0
ontop = 1
scale = 1.2,1.2

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Throw (P2 grabbed)
[Statedef 806]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = time = 0
value = 3

[State 620, 4]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, PalFX]
type = PalFX
triggerall = time >= 24 && time <= 89
trigger1 = time%3 = 0
time = 30
add = 50,100,250
sinadd = -50,-50,-50,4
color = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 806

;-------------------------------------------------------------------------------
;Thunder Jolt (weak)
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
velset = 0
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,5
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = animelem = 3
anim = 103
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.3

[State 0, PalFX]
type = PalFX
triggerall = time >= 7 && time <= 40
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 2000, 1]
type = Helper
trigger1 = Animelem = 3
pos = 30,0
name = "Jolt 1"
sprpriority = 5
stateno = 1001
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1001

[State 2000, 3]
type = ChangeState
trigger1 = time = 40
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Thunder Jolt weak (spark)
[Statedef 1001]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1001
velset = 7,0
sprpriority = 5

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13    ;fv = 10
value = (root,var(16))
ignorehitpause = 1

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP
time = -1
ignorehitpause = 1
persistent = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,SP,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1002
time = -1
forceair = 1
ignorehitpause = 1
persistent = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,0
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 99
ignorehitpause = 1

[State 100, dust]
type = Explod
trigger1 = time%12 = 0
anim = 1002
pos = 0,0
;bindtime = -1
sprpriority = 5
ownpal = 1
scale = .45,.45
id = 1002
ontop = 0

[State 100, dust]
type = Explod
trigger1 = animelem = 9
anim = 1003
pos = 10,0
;bindtime = -1
sprpriority = 6
ownpal = 1
ontop = 0

[State 100, dust]
type = Explod
trigger1 = time%12 = 0
anim = 1003
pos = 0,0
;bindtime = -1
sprpriority = 6
ownpal = 1
ontop = 0

[State 200, 1]
type = HitDef
triggerall = var(13) = 0
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(50*root,fvar(11)), 5			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,9
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 12+1*(var(42))
guard.slidetime = 13
ground.hittime = 12+1*(var(42))
guard.hittime = 13
air.hittime = 13
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 30
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 1
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(60*root,fvar(11)), 6			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,10
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 22+1*(var(42))
guard.slidetime = 13
ground.hittime = 22+1*(var(42))
guard.hittime = 13
air.hittime = 22
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 40
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 2
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(70*root,fvar(11)), 7			;Damage that move inflicts, guard damage
animtype = Medium			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,11
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 30+2*(var(42))
guard.slidetime = 13
ground.hittime = 30+2*(var(42))
guard.hittime = 13
air.hittime = 30
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 3
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(80*root,fvar(11)), 8			;Damage that move inflicts, guard damage
animtype = Heavy			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 42+3*(var(42))
guard.slidetime = 13
ground.hittime = 42+3*(var(42))
guard.hittime = 13
air.hittime = 42
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 60
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, (var(13))
channel = 5
persistent = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 120
trigger2 = movehit
trigger3 = moveguarded
value = 1002
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Thunder Jolt weak (spark end)
[Statedef 1002]
type    = S
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1003
velset = 0,0
sprpriority = 5


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1002
;ignorehitpause = 
;persistent = 


[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 8000, 2]
type = Destroyself
trigger1 = animtime=0

;-------------------------------------------------------------------------------
;Thunder Jolt (medium)
[Statedef 1005]
type = S
movetype = A
physics = S
anim = 1000
velset = 0
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,5
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = animelem = 3
anim = 103
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.3

[State 0, PalFX]
type = PalFX
triggerall = time >= 7 && time <= 40
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 2000, 1]
type = Helper
trigger1 = Animelem = 3
pos = 30,0
name = "Jolt 2"
sprpriority = 5
stateno = 1006
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1006

[State 2000, 3]
type = ChangeState
trigger1 = time = 40
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Thunder Jolt medium (spark)
[Statedef 1006]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1001
velset = 9,0
sprpriority = 5

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13    ;fv = 10
value = (root,var(16))
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,0
;ignorehitpause = 
;persistent = 

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP
time = -1
ignorehitpause = 1
persistent = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,SP,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1002
time = -1
forceair = 1
ignorehitpause = 1
persistent = 1

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 99
ignorehitpause = 1

[State 100, dust]
type = Explod
trigger1 = time%12 = 0
anim = 1002
pos = 0,0
;bindtime = -1
sprpriority = 5
ownpal = 1
scale = .55,.45
id = 1002
ontop = 0

[State 100, dust]
type = Explod
trigger1 = animelem = 9
anim = 1003
pos = 15,0
;bindtime = -1
sprpriority = 6
ownpal = 1
ontop = 0

[State 100, dust]
type = Explod
trigger1 = time%12 = 0
anim = 1003
pos = 0,0
;bindtime = -1
sprpriority = 6
ownpal = 1
ontop = 0

[State 200, 1]
type = HitDef
triggerall = var(13) = 0
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(50*root,fvar(11)), 5			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,9
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 12+1*(var(42))
guard.slidetime = 13
ground.hittime = 12+1*(var(42))
guard.hittime = 13
air.hittime = 13
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 30
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 1
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(60*root,fvar(11)), 6			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,10
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 22+1*(var(42))
guard.slidetime = 13
ground.hittime = 22+1*(var(42))
guard.hittime = 13
air.hittime = 22
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 40
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 2
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(70*root,fvar(11)), 7			;Damage that move inflicts, guard damage
animtype = Medium			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,11
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 30+2*(var(42))
guard.slidetime = 13
ground.hittime = 30+2*(var(42))
guard.hittime = 13
air.hittime = 30
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 3
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(80*root,fvar(11)), 8			;Damage that move inflicts, guard damage
animtype = Heavy			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 42+3*(var(42))
guard.slidetime = 13
ground.hittime = 42+3*(var(42))
guard.hittime = 13
air.hittime = 42
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 60
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, (var(13))
channel = 5
persistent = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 120
trigger2 = movehit
trigger3 = moveguarded
value = 1002
ctrl = 0
ignorehitpause = 1

;-------------------------------------------------------------------------------
;Thunder Jolt (strong)
[Statedef 1010]
type = S
movetype = A
physics = S
anim = 1000
velset = 0
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,5
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = animelem = 3
anim = 103
postype = p1
pos = -10,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.3

[State 0, PalFX]
type = PalFX
triggerall = time >= 7 && time <= 40
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 2000, 1]
type = Helper
trigger1 = Animelem = 3
pos = 30,0
name = "Jolt 3"
sprpriority = 5
stateno = 1011
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1011

[State 2000, 3]
type = ChangeState
trigger1 = time = 40
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Thunder Jolt strong (spark)
[Statedef 1011]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1001
velset = 11,0
sprpriority = 5

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13    ;fv = 10
value = (root,var(16))
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,0
;ignorehitpause = 
;persistent = 

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP
time = -1
ignorehitpause = 1
persistent = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,SP,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1002
time = -1
forceair = 1
ignorehitpause = 1
persistent = 1

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 99
ignorehitpause = 1

[State 100, dust]
type = Explod
trigger1 = time%12 = 0
anim = 1002
pos = 0,0
;bindtime = -1
sprpriority = 5
ownpal = 1
scale = .65,.45
id = 1002
ontop = 0

[State 100, dust]
type = Explod
trigger1 = animelem = 9
anim = 1003
pos = 15,0
;bindtime = -1
sprpriority = 6
ownpal = 1
ontop = 0

[State 100, dust]
type = Explod
trigger1 = time%12 = 0
anim = 1003
pos = 0,0
;bindtime = -1
sprpriority = 6
ownpal = 1
ontop = 0

[State 200, 1]
type = HitDef
triggerall = var(13) = 0
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(50*root,fvar(11)), 5			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,9
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 12+1*(var(42))
guard.slidetime = 13
ground.hittime = 12+1*(var(42))
guard.hittime = 13
air.hittime = 13
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 30
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 1
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(60*root,fvar(11)), 6			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,10
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 22+1*(var(42))
guard.slidetime = 13
ground.hittime = 22+1*(var(42))
guard.hittime = 13
air.hittime = 22
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 40
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 2
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(70*root,fvar(11)), 7			;Damage that move inflicts, guard damage
animtype = Medium			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,11
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 30+2*(var(42))
guard.slidetime = 13
ground.hittime = 30+2*(var(42))
guard.hittime = 13
air.hittime = 30
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
triggerall = var(13) = 3
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(80*root,fvar(11)), 8			;Damage that move inflicts, guard damage
animtype = Heavy			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-40
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 42+3*(var(42))
guard.slidetime = 13
ground.hittime = 42+3*(var(42))
guard.hittime = 13
air.hittime = 42
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-3		;X-velocity at which opponent is pushed,
palfx.time = 60
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, (var(13))
channel = 5
persistent = 0




[State 0, ChangeState]
type = ChangeState
trigger1 = time = 120
trigger2 = movehit
trigger3 = moveguarded
value = 1002
ctrl = 0
ignorehitpause = 1

;Electro Ball (weak)
[Statedef 1050]
type    = A
movetype= A
physics = N
juggle  = 0;4
poweradd= 30
ctrl = 0
anim = 1050
velset = 0,0

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
triggerall = time >= 7 && time <= 21
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 100, dust]
type = Explod
trigger1 = animelem = 1
anim = 1051
pos = 0,0
bindtime = -1
sprpriority = 5
ownpal = 1
ontop = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 7
physics = A         ;A,C,S,N
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 7
x = -2
y = -5
;ignorehitpause = 
;persistent = 

[State 2000, 1]
type = Helper
trigger1 = Animelem = 7
pos = 30,-30
name = "Ball 1"
sprpriority = 5
stateno = 1051
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1051

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 1010,0+random%2

;---------------------------------------------------------------------------
;Electro ball weak (ball)
[Statedef 1051]
type    = A
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1055
velset = 2.5,6
sprpriority = 5

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet; first hit
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = ParentVarSet; all other hits
trigger1 = movehit; = 1
trigger1 = time %2 = 0
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13    ;fv = 10
value = (root,var(16))
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,0
;ignorehitpause = 
;persistent = 

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP
time = -1
ignorehitpause = 1
persistent = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,SP,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1002
time = -1
forceair = 1
ignorehitpause = 1
persistent = 1

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 99
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = hitcount <= (var(13)+1) && moveguarded = 0
trigger1 = time %2 = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(50*root,fvar(11)), 5			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),0
					;Y-offset for the spark rel. to p1
hitsound = S5,10
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 16+1*(var(42))
guard.slidetime = 17
ground.hittime = 16+1*(var(42))
guard.hittime = 17
air.hittime = 16
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,5		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 0
channel = 5
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger2 = movehit && hitcount = (var(13)+1)
trigger3 = moveguarded
value = 1002
ctrl = 0
ignorehitpause = 1

;Electro Ball (medium)
[Statedef 1055]
type    = A
movetype= A
physics = N
juggle  = 0;4
poweradd= 30
ctrl = 0
anim = 1050
velset = 0,0

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
triggerall = time >= 7 && time <= 21
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 100, dust]
type = Explod
trigger1 = animelem = 1
anim = 1051
pos = 0,0
bindtime = -1
sprpriority = 5
ownpal = 1
ontop = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 7
physics = A         ;A,C,S,N
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 7
x = -3.5
y = -5
;ignorehitpause = 
;persistent = 

[State 2000, 1]
type = Helper
trigger1 = Animelem = 7
pos = 30,-30
name = "Ball 2"
sprpriority = 5
stateno = 1056
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1056

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 1010,0+random%2

;---------------------------------------------------------------------------
;Thunder Jolt medium (spark)
[Statedef 1056]
type    = A
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1055
velset = 5,5
sprpriority = 5

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet; first hit
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = ParentVarSet; all other hits
trigger1 = movehit; = 1
trigger1 = time %2 = 0
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13    ;fv = 10
value = (root,var(16))
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,0
;ignorehitpause = 
;persistent = 

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP
time = -1
ignorehitpause = 1
persistent = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,SP,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1002
time = -1
forceair = 1
ignorehitpause = 1
persistent = 1

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 99
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = hitcount <= (var(13)+1) && moveguarded = 0
trigger1 = time %2 = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(50*root,fvar(11)), 5			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),0
					;Y-offset for the spark rel. to p1
hitsound = S5,10
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 16+1*(var(42))
guard.slidetime = 17
ground.hittime = 16+1*(var(42))
guard.hittime = 17
air.hittime = 16
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,5		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 0
channel = 5
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger2 = movehit && hitcount = (var(13)+1)
trigger3 = moveguarded
value = 1002
ctrl = 0
ignorehitpause = 1

;Electro Ball (strong)
[Statedef 1060]
type    = A
movetype= A
physics = N
juggle  = 0;4
poweradd= 30
ctrl = 0
anim = 1050
velset = 0,0

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
triggerall = time >= 7 && time <= 21
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 100, dust]
type = Explod
trigger1 = animelem = 1
anim = 1051
pos = 0,0
bindtime = -1
sprpriority = 5
ownpal = 1
ontop = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 7
physics = A         ;A,C,S,N
;ignorehitpause = 
;persistent = 

[State 0, VelSet]
type = VelSet
trigger1 = Animelem = 7
x = -5
y = -5
;ignorehitpause = 
;persistent = 

[State 2000, 1]
type = Helper
trigger1 = Animelem = 7
pos = 30,-30
name = "Ball 3"
sprpriority = 5
stateno = 1061
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1061

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 1010,0+random%2

;---------------------------------------------------------------------------
;Thunder Jolt strong (spark)
[Statedef 1061]
type    = A
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1055
velset = 7.5,3
sprpriority = 5

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet; first hit
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = ParentVarSet; all other hits
trigger1 = movehit; = 1
trigger1 = time %2 = 0
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13    ;fv = 10
value = (root,var(16))
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,0
;ignorehitpause = 
;persistent = 

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP
time = -1
ignorehitpause = 1
persistent = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,SP,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1002
time = -1
forceair = 1
ignorehitpause = 1
persistent = 1

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT

[State 11001, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 99
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = hitcount <= (var(13)+1) && moveguarded = 0
trigger1 = time %2 = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(50*root,fvar(11)), 5			;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),0
					;Y-offset for the spark rel. to p1
hitsound = S5,10
guardsound = S6,0
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 16+1*(var(42))
guard.slidetime = 17
ground.hittime = 16+1*(var(42))
guard.hittime = 17
air.hittime = 16
air.fall = 1
ground.velocity = -5		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,5		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 0
channel = 5
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger2 = movehit && hitcount = (var(13)+1)
trigger3 = moveguarded
value = 1002
ctrl = 0
ignorehitpause = 1

;-------------------------------------------------------------------------------
;Thunder (weak)
[Statedef 1100]
type = S
movetype = A
physics = S
anim = 1100
velset = 0
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,6
;ignorehitpause = 
;persistent = 

[State 2000, 1]
type = Helper
triggerall = var(16) = 0
trigger1 = Animelem = 3
pos = 80,5
name = "Thunder 1"
sprpriority = 5
stateno = 1101
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1101
[State 2000, 1]
type = Helper
triggerall = var(16) = 1
trigger1 = Animelem = 3
pos = 80,5
name = "Thunder 2"
sprpriority = 5
stateno = 1102
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1102
[State 2000, 1]
type = Helper
triggerall = var(16) = 2
trigger1 = Animelem = 3
pos = 80,5
name = "Thunder 3"
sprpriority = 5
stateno = 1103
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1103
[State 2000, 1]
type = Helper
triggerall = var(16) = 3
trigger1 = Animelem = 3
pos = 80,5
name = "Thunder 4"
sprpriority = 5
stateno = 1104
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1104

[State 2000, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thunder (lightning level 0)
[Statedef 1101]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1110
velset = 0,0
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 5
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 5
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.2,1.2

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,1
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(60*root,fvar(11)), 6			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 8			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 16+1*(var(42))
guard.slidetime = 18
ground.hittime = 16+1*(var(42))
guard.hittime = 18
air.hittime = 16
ground.velocity = 0,8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,4	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1900, shake]
type = envshake
trigger1 = animelem = 5
time = 10
freq = 80
ampl = -5

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = -50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = 1

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = 50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = -1

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Thunder (lightning level 1)
[Statedef 1102]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1111
velset = 0,0
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 5
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 5
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.2,1.2

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,1
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(70*root,fvar(11)), 7			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 12			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 20+1*(var(42))
guard.slidetime = 18
ground.hittime = 20+1*(var(42))
guard.hittime = 18
air.hittime = 20
ground.velocity = 0,8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,4	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1900, shake]
type = envshake
trigger1 = animelem = 5
time = 10
freq = 80
ampl = -5

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = -50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = 1

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = 50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = -1

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Thunder (lightning level 2)
[Statedef 1103]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1112
velset = 0,0
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 5
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 5
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.2,1.2

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,1
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(80*root,fvar(11)), 8			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 22			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 25+1*(var(42))
guard.slidetime = 18
ground.hittime = 25+1*(var(42))
guard.hittime = 18
air.hittime = 25
ground.velocity = 0,8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,4	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1900, shake]
type = envshake
trigger1 = animelem = 5
time = 10
freq = 80
ampl = -5

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = -50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = 1

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = 50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = -1

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Thunder (lightning level 3)
[Statedef 1104]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1113
velset = 0,0
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 5
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.75,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 5
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.2,1.2

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,1
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(90*root,fvar(11)), 9			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 30			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 30+2*(var(42))
guard.slidetime = 18
ground.hittime = 30+2*(var(42))
guard.hittime = 18
air.hittime = 30
ground.velocity = 0,8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,4	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1900, shake]
type = envshake
trigger1 = animelem = 5
time = 10
freq = 80
ampl = -5

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = -50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = 1

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = 50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = -1

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
;Thunder (medium)
[Statedef 1105]
type = S
movetype = A
physics = S
anim = 1100
velset = 0
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,6
;ignorehitpause = 
;persistent = 

[State 2000, 1]
type = Helper
triggerall = var(16) = 0
trigger1 = Animelem = 3
pos = 160,5
name = "Thunder 1"
sprpriority = 5
stateno = 1101
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1101
[State 2000, 1]
type = Helper
triggerall = var(16) = 1
trigger1 = Animelem = 3
pos = 160,5
name = "Thunder 2"
sprpriority = 5
stateno = 1102
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1102
[State 2000, 1]
type = Helper
triggerall = var(16) = 2
trigger1 = Animelem = 3
pos = 160,5
name = "Thunder 3"
sprpriority = 5
stateno = 1103
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1103
[State 2000, 1]
type = Helper
triggerall = var(16) = 3
trigger1 = Animelem = 3
pos = 160,5
name = "Thunder 4"
sprpriority = 5
stateno = 1104
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1104

[State 2000, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Thunder (strong)
[Statedef 1110]
type = S
movetype = A
physics = S
anim = 1100
velset = 0
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,6
;ignorehitpause = 
;persistent = 

[State 2000, 1]
type = Helper
triggerall = var(16) = 0
trigger1 = Animelem = 3
pos = 240,5
name = "Thunder 1"
sprpriority = 5
stateno = 1101
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1101
[State 2000, 1]
type = Helper
triggerall = var(16) = 1
trigger1 = Animelem = 3
pos = 240,5
name = "Thunder 2"
sprpriority = 5
stateno = 1102
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1102
[State 2000, 1]
type = Helper
triggerall = var(16) = 2
trigger1 = Animelem = 3
pos = 240,5
name = "Thunder 3"
sprpriority = 5
stateno = 1103
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1103
[State 2000, 1]
type = Helper
triggerall = var(16) = 3
trigger1 = Animelem = 3
pos = 240,5
name = "Thunder 4"
sprpriority = 5
stateno = 1104
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1104

[State 2000, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------
;Thunder (self)
[Statedef 1115]
type = A
movetype = A
physics = N
anim = 1101
velset = 0
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, NotHitBy]
type = NotHitBy
triggerall = anim = 1101
trigger1 = time = [10,30]
value = SCA
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,6
;ignorehitpause = 
;persistent = 

[State 2000, 1]
type = Helper
triggerall = var(16) = 0
trigger1 = Animelem = 3
pos = 0,-45
name = "Thunder 1"
sprpriority = 5
stateno = 1116
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1116
[State 2000, 1]
type = Helper
triggerall = var(16) = 1
trigger1 = Animelem = 3
pos = 0,-45
name = "Thunder 2"
sprpriority = 5
stateno = 1117
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1117
[State 2000, 1]
type = Helper
triggerall = var(16) = 2
trigger1 = Animelem = 3
pos = 0,-45
name = "Thunder 3"
sprpriority = 5
stateno = 1118
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1118
[State 2000, 1]
type = Helper
triggerall = var(16) = 3
trigger1 = Animelem = 3
pos = 0,-45
name = "Thunder 4"
sprpriority = 5
stateno = 1119
helpertype = normal
postype = p1
bindtime = -1
ownpal = 1
ID = 1119

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 12
y = -10

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 15
y = -10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 40
physics = A         ;A,C,S,N
;ignorehitpause = 
;persistent = 

[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = time = 17
anim = 1106
postype = p1
pos = 0, 10
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .9,.9
removeongethit = 1
[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = time = 17
anim = 1106
postype = p1
pos = 0, 20
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.1,1.1
removeongethit = 1
[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = time = 17
anim = 1106
postype = p1
pos = 0, 30
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.3,1.3
removeongethit = 1
[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = time = 17
anim = 1106
postype = p1
pos = 0, 40
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.5,1.5
removeongethit = 1

[State 50,line1]
type = Explod
trigger1 = time = 17
anim = 197
id = 197
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 5
ignorehitpause = 0
ontop = 1
scale = 1.1,1.1
removeongethit = 1
removetime = 30

[State 0, LifeAdd]
type = LifeAdd
triggerall = var(16) = 0
trigger1 = time = 17
value = -10
kill = 0
[State 0, LifeAdd]
type = LifeAdd
triggerall = var(16) = 1
trigger1 = time = 17
value = -20
kill = 0
[State 0, LifeAdd]
type = LifeAdd
triggerall = var(16) = 2
trigger1 = time = 17
value = -30
kill = 0
[State 0, LifeAdd]
type = LifeAdd
triggerall = var(16) = 3
trigger1 = time = 17
value = -40
kill = 0

[State 0, PalFX]
type = PalFX
triggerall = time >= 17 && time <= 40
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256


;---------------------------------------------------------------------------
; Self-Thunder (lightning level 0)
[Statedef 1116]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1116
velset = 0,0
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,2
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(80*root,fvar(11)), 8			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 10			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 16+1*(var(42))
guard.slidetime = 17
ground.hittime = 16+1*(var(42))
guard.hittime = 17
air.hittime = 16
ground.velocity = -2,-8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,0	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H

;---------------------------------------------------------------------------
; Self-Thunder (lightning level 1)
[Statedef 1117]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1117
velset = 0,0
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,2
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(95*root,fvar(11)), 9			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 15			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 20+1*(var(42))
guard.slidetime = 21
ground.hittime = 20+1*(var(42))
guard.hittime = 21
air.hittime = 20
ground.velocity = -2,-8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,0	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H

;---------------------------------------------------------------------------
; Self-Thunder (lightning level 2)
[Statedef 1118]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1118
velset = 0,0
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,2
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(110*root,fvar(11)), 10			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 20			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 25+1*(var(42))
guard.slidetime = 26
ground.hittime = 25+1*(var(42))
guard.hittime = 26
air.hittime = 25
ground.velocity = -2,-8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,0	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H

;---------------------------------------------------------------------------
; Self-Thunder (lightning level 3)
[Statedef 1119]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1119
velset = 0,0
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,2
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(150*root,fvar(11)), 15			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 25			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 30+2*(var(42))
guard.slidetime = 32
ground.hittime = 30+2*(var(42))
guard.hittime = 32
air.hittime = 30
ground.velocity = -2,-8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,0	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H

;---------------------------------------------------------------------------
; Thunder (Guard Cancel)
[Statedef 1150]
type    = S
movetype= A
physics = N
juggle  = 0;5 
velset = 0,0             
ctrl = 0 
anim = 1150  
poweradd = 0 
sprpriority = 2
facep2 = 1 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1151,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S1151,1

[State 1200, 0]
type = NotHitBy
trigger1 = animelemtime(6) < 0
value = SCA
time = 1
ignorehitpause = 1

[state haha]
type = superpause
trigger1 = time = 0
time = 15
movetime = 15
pos = 5,-20
anim = s1152
sound = s1150,0
unhittable = 3
poweradd = -500
darken = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 16    ;fv = 10
value = 2
ignorehitpause = 1

[State 2000, 1]
type = Helper
trigger1 = Animelem = 3
pos = 0,5
name = "Thunder 1"
sprpriority = 5
stateno = 1151
helpertype = normal
postype = p2
bindtime = -1
ownpal = 1
ID = 1151

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thunder (lightning level 3)
[Statedef 1151]
type    = S
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N
anim = 1113
velset = 0,0
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 5
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1105
ID = 1105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.75,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
var(46) = 1
ignorehitpause = 1
persistent = 0

[State 0, Give 'em some Movehitoner]
type = ParentVarSet
trigger1 = 1
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
fvar(11) = root,fvar(11)*.85
ignorehitpause = 1
persistent = 0

[State 703, No Shadows!]
type = Assertspecial
trigger1 = 1
flag = noshadow

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 5
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.2,1.2

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1100,0
;ignorehitpause = 
;persistent = 
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1100,1
;ignorehitpause = 
;persistent = 

[State 11001, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = -1
value = SCA, NA, SA, HA, NT, ST, HT, NP, SP,HP


[State 200, 1]
type = HitDef
trigger1 = time = 0
getpower = 0
attr = S, SP			;Attribute: Standing, Normal Attack
damage = ceil(100*root,fvar(11)), 10			;Damage that move inflicts, guard damage
animtype = Hard			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = 			;Flags on how move is to be guarded against
hitflag = MAFd			;Flags of conditions that move can hit
priority = 5, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2, 30			;Time attacker pauses, time opponent shakes
sparkno = S6208				;Spark anim no (Def: set above)
guard.sparkno = s6220
sparkxy = ifelse((Random < 330),0,ifelse((Random = [330,660]),-15,-30)),ceil(enemynear, Pos Y)-90
					;Y-offset for the spark rel. to p1
hitsound = S5,12
guardsound = S6,0
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 30+2*(var(42))
guard.slidetime = 32
ground.hittime = 30+2*(var(42))
guard.hittime = 32
air.hittime = 30
ground.velocity = 0,8		;Velocity at which opponent is pushed
guard.velocity = -4
airguard.velocity = -3,4	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,8		;X-velocity at which opponent is pushed,
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
fall = 1
air.fall = 1
fall.recover=0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1900, shake]
type = envshake
trigger1 = animelem = 5
time = 10
freq = 80
ampl = -5

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = -50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = 1

[State 100, dust]
type = Explod
trigger1 = animelem = 5
anim = 103
postype = p1
pos = 50,0
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5
facing = -1

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[State 0, ChangeState]
type = Destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
;Iron Tail
[Statedef 1200]
type = S
movetype = A
physics = N
sprpriority = 2
anim = 1200
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 5
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "pushbox"
ID = 1204
stateno = 1204
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.85
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L

[State 0, Gravity]
type = Gravity
trigger1 = time >= 10
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 2
value = 1000,2
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1010,0+random%2
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 10
value = 1000,3
;ignorehitpause = 
;persistent = 

[State -3, jumpdust1]
type = explod
trigger1 = animelem = 1
postype = p1
pos = 0,0
spacing = 1
anim = 6010
ownpal = 1
supermove = 1
scale = .7,.7

[State 50,line1]
type = Explod
trigger1 = animelem = 2
anim = 1201
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 3
ontop = 0
removeongethit = 1

[State 0, VelSet]
type = VelSet
triggerall = var(11) = 1
trigger1 =  animelem = 3
x = 3
y = -5
[State 0, VelSet]
type = VelSet
triggerall = var(11) = 2
trigger1 =  animelem = 3
x = 5
y = -5
[State 0, VelSet]
type = VelSet
triggerall = var(11) = 3
trigger1 =  animelem = 3
x = 7
y = -5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(11) = 2

[State 0, VarSet]
type = VarSet
trigger1 = command = "x"
trigger1 = time = 0
trigger1 = !var(58)
var(11) = 1

[State 0, VarSet]
type = VarSet
trigger1 = command = "y"
trigger1 = time = 0
trigger1 = !var(58)
var(11) = 2

[State 0, VarSet]
type = VarSet
trigger1 = command = "z"
trigger1 = time = 0
trigger1 = !var(58)
var(11) = 3

[State 2300, hit]
type = HitDef
trigger1 = animelem = 5
id = 1200
attr = S, SA
hitflag = MAF
guardflag = HA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = ceil(30*fvar(11)), 3
pausetime = 4,4
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -5,0
air.velocity = -5,-2
givepower = 10, 5
getpower = 10,5
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 2300, hit]
type = HitDef
trigger1 = animelem = 12
id = 1200
attr = S, SA
hitflag = MAF
guardflag = HA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = ceil(30*fvar(11)), 3
pausetime = 4,4
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,8
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -5,0
air.velocity = -5,6
givepower = 10, 5
getpower = 10,5
air.fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 12
anim = 1203
id = 1203
postype = p1
pos = 0, 20
ownpal = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = .8,.8
ignorehitpause = 0
ontop = 0
removeongethit = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1205

;-------------------------------------------------------------------------------
;Iron Tail (air)
[Statedef 1201]
type = A
movetype = A
physics = N
sprpriority = 2
velset = 0,0
anim = 1200
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 5
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.85
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L

[State 0, Gravity]
type = Gravity
trigger1 = time >= 10
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 2
value = 1000,2
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 5
value = 1010,0+random%2
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 10
value = 1000,3
;ignorehitpause = 
;persistent = 

[State 50,line1]
type = Explod
trigger1 = animelem = 2
anim = 1201
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 3
ontop = 0
removeongethit = 1

[State 0, VelSet]
type = VelSet
triggerall = var(11) = 1
trigger1 =  animelem = 3
x = 2
y = -5
[State 0, VelSet]
type = VelSet
triggerall = var(11) = 2
trigger1 =  animelem = 3
x = 4
y = -5
[State 0, VelSet]
type = VelSet
triggerall = var(11) = 3
trigger1 =  animelem = 3
x = 6
y = -5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(11) = 2

[State 0, VarSet]
type = VarSet
trigger1 = command = "x"
trigger1 = time = 0
trigger1 = !var(58)
var(11) = 1

[State 0, VarSet]
type = VarSet
trigger1 = command = "y"
trigger1 = time = 0
trigger1 = !var(58)
var(11) = 2

[State 0, VarSet]
type = VarSet
trigger1 = command = "z"
trigger1 = time = 0
trigger1 = !var(58)
var(11) = 3

[State 2300, hit]
type = HitDef
trigger1 = animelem = 5
id = 1200
attr = S, SA
hitflag = MAF
guardflag = HA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = ceil(30*fvar(11)), 3
pausetime = 4,4
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -5,0
air.velocity = -5,-2
givepower = 10, 5
getpower = 10,5
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 2300, hit]
type = HitDef
trigger1 = animelem = 12
id = 1200
attr = S, SA
hitflag = MAF
guardflag = HA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = ceil(30*fvar(11)), 3
pausetime = 4,4
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,8
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -5,0
air.velocity = -5,6
givepower = 10, 5
getpower = 10,5
air.fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 12
anim = 1203
id = 1203
postype = p1
pos = 0, 20
ownpal = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = .8,.8
ignorehitpause = 0
ontop = 0
removeongethit = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1205

;-------------------------------------------------------------------------------
;Iron Tail (pushbox)
[Statedef 1204]
type = A
movetype = I
physics = N
anim = 1204

[State 0, BindToRoot]
type = BindToParent
trigger1 = 1
time = -1
facing = 1
pos = 0,-(parent,pos y)
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno != 1200
ignorehitpause = 1

;-------------------------------------------------------------------------------
;Iron Tail (slam on the ground)
[Statedef 1205]
type = S
movetype = A
physics = N
anim = 1205
ctrl = 0
juggle = 0;1
velset = 0,0

[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
v = 13    ;fv = 10
value = 5
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.85
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,6
;ignorehitpause = 
;persistent = 

[State 0, PosFreeze]
type = Posset
trigger1 = time = 0
y = 0

[state 1900, shake]
type = envshake
trigger1 = time = 0
time = 30
freq = 80
ampl = -5

[State 50,line1]
type = Explod
trigger1 = animelem = 2
anim = 1202
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 3
ontop = 0
removeongethit = 1

[State 0, SPARK1]
type = Explod
trigger1 = animelem = 1
anim = 1206
pos = 30,0
postype = p1
facing = 1
bindtime = 1
removetime = 66
scale = .8,.8
sprpriority = -5
ownpal = 1
removeongethit = 1
ignorehitpause = -1
supermovetime = 999
pausemovetime = 999

[State 910, hit]
type = HitDef
trigger1 = !time
id = 1205
attr = S, SA
hitflag = MAFD
guardflag = H
animtype = Diagup
air.animtype = Diagup
fall.animtype = Back
priority = 5,Hit
damage = ceil(50*fvar(11)),5
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,5
guardsound = S6,0
ground.type = Trip
air.type = Trip
ground.slidetime = 20+2*(var(42))
guard.slidetime = 22
ground.hittime = 20+2*(var(42))
guard.hittime = 22
air.hittime = 20
ground.velocity = -1,5
air.velocity = -1,5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 50,line1]
type = Explod
trigger1 = time = 0
anim = 1207
id = 1207
postype = p1
pos = 0, 20
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = .8,.8
ignorehitpause = 0
ontop = 0
removeongethit = 1

[State Groundbounce]
type = TargetState
triggerall = var(14) = 0
trigger1 = numtarget(1205)
trigger1 = var(21) = 1
trigger1 = !(target(1205),ishelper) || (PlayerIDExist((target(1205),id)) )
value = 725
ID = 1205
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = numtarget(1205)
v = 14    ;fv = 10
value = 1
ignorehitpause = 1

[State 50,line1]
type = Explod
trigger1 = animelem = 1
anim = 6007
postype = p1
pos = 30, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.2,1.2

[State 105, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
anim = 5
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack (horizontal)
[Statedef 1300]
type = A
movetype = A
physics = N
anim = 1300
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 201

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 211

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 221

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 411

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 621

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 711

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = 0,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .5,.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animtime = 0
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20+(4*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

[State 200, 7]
type = changestate
triggerall = animtime = 0
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
value = 1301

[State 200, 7]
type = changestate
triggerall = animtime = 0
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
value = 1303

[State 200, 7]
type = changestate
triggerall = animtime = 0
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
value = 1302

;-------------------------------------------------------------------------------
;Quick Attack 2nd hit(horizontal fwd)
[Statedef 1301]
type = A
movetype = A
physics = N
anim = 1301
ctrl = 0
juggle = 0;1
poweradd = 30

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = 0,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .5,.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animtime = 0
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20+(4*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack 2nd hit diagonal up)
[Statedef 1302]
type = A
movetype = A
physics = N
anim = 1303
ctrl = 0
juggle = 0;1
poweradd = 30

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 15+(3*var(16))
y = -15-(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack 2nd hit (vertical)
[Statedef 1303]
type = A
movetype = A
physics = N
anim = 1304
ctrl = 0
juggle = 0;1
poweradd = 30

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = -20,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
y = -15-(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -5+random%11,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -5+random%11,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack (diagonal up)
[Statedef 1305]
type = A
movetype = A
physics = N
anim = 1305
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1


[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 201

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 211

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 221

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 411

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 621

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 711

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = 20,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .5,.5
facing = -1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 15+(3*var(16))
y = -15-(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0
y = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -6,-8
air.velocity = -5,-8
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 1306

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1307

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1308

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1309

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1311



;-------------------------------------------------------------------------------
;Quick Attack 2nd hit(horizontal fwd)
[Statedef 1306]
type = A
movetype = A
physics = N
anim = 1306
ctrl = 0
juggle = 0;1
poweradd = 30

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 20+(4*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -1 && time < 20
y = -1
ignorehitpause = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack 2nd hit diagonal up air)
[Statedef 1307]
type = A
movetype = A
physics = N
anim = 1307
ctrl = 0
juggle = 0;1
poweradd = 30

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 15+(3*var(16))
y = -15-(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -1 && time < 20
y = -1
ignorehitpause = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack 2nd hit diagonal down air)
[Statedef 1308]
type = A
movetype = A
physics = N
anim = 1308
ctrl = 0
juggle = 0;1
poweradd = 30

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 15+(3*var(16))
y = 15+(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -1 && time < 20
y = -1
ignorehitpause = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack 2nd hit (air vertical down)
[Statedef 1309]
type = A
movetype = A
physics = N
anim = 1312
ctrl = 0
juggle = 0;1
poweradd = 30

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
y = 15+(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -5+random%11,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -5+random%11,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -1 && time < 20
y = -1
ignorehitpause = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack (vertical)
[Statedef 1310]
type = A
movetype = A
physics = N
anim = 1310
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 201

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 211

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 221

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 411

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 621

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 711

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = -20,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
y = -15-(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0
y = 0

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -5+random%11,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -5+random%11,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 1306

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1307

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1308

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1309

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1311

;-------------------------------------------------------------------------------
;Quick Attack 2nd hit (air vertical up)
[Statedef 1311]
type = A
movetype = A
physics = N
anim = 1311
ctrl = 0
juggle = 0;1
poweradd = 30

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
y = -15-(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -5+random%11,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -5+random%11,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -1 && time < 20
y = -1
ignorehitpause = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Quick Attack Air (diagonal downfwd)
[Statedef 1320]
type = A
movetype = A
physics = N
anim = 1320
ctrl = 0
velset = 0,0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 15+(3*var(16))
y = 15+(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0
y = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -1 && time < 20
y = -1
ignorehitpause = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 1306

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1307

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1308

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1309

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1311

;-------------------------------------------------------------------------------
;Quick Attack Air (horizontal fwd)
[Statedef 1321]
type = A
movetype = A
physics = N
anim = 1321
ctrl = 0
velset = 0,0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1


[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20+(4*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -1 && time < 20
y = -1
ignorehitpause = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 1306

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1307

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1308

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1309

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1311

;-------------------------------------------------------------------------------
;Quick Attack Air (diagonal downfwd)
[Statedef 1322]
type = A
movetype = A
physics = N
anim = 1322
ctrl = 0
velset = 0,0
juggle = 0;1
facep2 = 1 
poweradd = 30

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.9
ignorehitpause = 1


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 200,8
[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1000,5
;ignorehitpause = 
;persistent = 

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
physics = A       ;S,A,C,L

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 15+(3*var(16))
y = -15-(3*var(16))

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0
y = 0

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1

[state 1100, 1]
type = explod
trigger1 = time >= 3 && time < 8
anim = 1302
pos = -30+random%61,-40+random%21
postype = p1
sprpriority = 4
ownpal = 1
scale = .7,.7

[State 1040, No pushing for you!]
type = PlayerPush
trigger1 = 1
value = 0

[State 920, hit]
type = HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 15,3
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,10
guardsound = S6,0
ground.type = High
air.type = Low
ground.slidetime = 18+1*(var(42))
guard.slidetime = 19
ground.hittime = 18+1*(var(42))
guard.hittime = 19
air.hittime = 18
ground.velocity = -7,-5
air.velocity = -7,-5
fall = 1
fall.recover = 0
yaccel = .5
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -1 && time < 20
y = -1
ignorehitpause = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 1306

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1307

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1308

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command = "holddown"
value = 1309

[State 200, 7]
type = changestate
triggerall = time >= 17 && time < 20
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger1 = command != "holddown"
value = 1311

;-------------------------------------------------------------------------------
;Thunder punch (weak)
[Statedef 1400]
type = S
movetype = A
physics = N
anim = 1400
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30
velset = 0,0

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 5
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = 0
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6
physics = S         ;A,C,S,N
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1400,2
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 2
value = 1400,0
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 6
value = 1400,1
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 9
value = 1000,4
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = -20,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .5,.5

[State 100, dust]
type = Explod
trigger1 = animelem = 2
anim = 8104
postype = p1
pos = 0,2
bindtime = -1
sprpriority = 2
ownpal = 1

[State 100, dust]
type = Explod
trigger1 = time = 9
anim = 1405
postype = p1
pos = 10,10
bindtime = -1
sprpriority = 5
ownpal = 1
scale = .9,.9
removeongethit = 1
ignorehitpause = 0
ontop = 0

[State 1201, 3]
type = HitDef
triggerall = var(16) = 0
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(55*fvar(11)),5
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -10
air.velocity = -2.5, -9
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 1
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(66*fvar(11)),6
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -11
air.velocity = -2.5, -9.5
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 2
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(77*fvar(11)),7
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -12
air.velocity = -2.5, -10
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 3
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(88*fvar(11)),8
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -13
air.velocity = -2.5, -10.5
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 0
channel = 5
persistent = 0

[State 105, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Thunder punch (medium)
[Statedef 1405]
type = S
movetype = A
physics = N
anim = 1400
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30
velset = 0,0

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 8
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = 0
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6
physics = S         ;A,C,S,N
;ignorehitpause = 
;persistent = 


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1400,2
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 2
value = 1400,0
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 6
value = 1400,1
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 9
value = 1000,4
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = -20,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .5,.5

[State 100, dust]
type = Explod
trigger1 = animelem = 2
anim = 8104
postype = p1
pos = 0,2
bindtime = -1
sprpriority = 2
ownpal = 1

[State 100, dust]
type = Explod
trigger1 = time = 9
anim = 1405
postype = p1
pos = 10,10
bindtime = -1
sprpriority = 5
ownpal = 1
scale = .9,.9
removeongethit = 1
ignorehitpause = 0
ontop = 0

[State 1201, 3]
type = HitDef
triggerall = var(16) = 0
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(55*fvar(11)),5
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -10
air.velocity = -2.5, -9
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 1
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(66*fvar(11)),6
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -11
air.velocity = -2.5, -9.5
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 2
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(77*fvar(11)),7
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -12
air.velocity = -2.5, -10
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 3
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(88*fvar(11)),8
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -13
air.velocity = -2.5, -10.5
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 0
channel = 5
persistent = 0

[State 105, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Thunder punch (strong)
[Statedef 1410]
type = S
movetype = A
physics = N
anim = 1400
ctrl = 0
juggle = 0;1
facep2 = 1 
poweradd = 30
velset = 0,0

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = time = 1
trigger1 = var(13) >= 100
v = 13    ;fv = 
value = -100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 12
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = 0
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6
physics = S         ;A,C,S,N
;ignorehitpause = 
;persistent = 


[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 1400,2
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 2
value = 1400,0
[State 0, StopSnd]
type = PlaySnd
trigger1 = animelem = 6
value = 1400,1
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 9
value = 1000,4
;ignorehitpause = 
;persistent = 

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = -20,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .5,.5

[State 100, dust]
type = Explod
trigger1 = animelem = 2
anim = 8104
postype = p1
pos = 0,2
bindtime = -1
sprpriority = 2
ownpal = 1

[State 100, dust]
type = Explod
trigger1 = time = 9
anim = 1405
postype = p1
pos = 10,10
bindtime = -1
sprpriority = 5
ownpal = 1
scale = .9,.9
removeongethit = 1
ignorehitpause = 0
ontop = 0

[State 1201, 3]
type = HitDef
triggerall = var(16) = 0
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(55*fvar(11)),5
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -10
air.velocity = -2.5, -9
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 1
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(66*fvar(11)),6
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -11
air.velocity = -2.5, -9.5
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 2
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(77*fvar(11)),7
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -12
air.velocity = -2.5, -10
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
[State 1201, 3]
type = HitDef
triggerall = var(16) = 3
triggerall = numtarget(1400) = 0
trigger1 = animelem = 6
attr = S, SA
id = 1400
damage = ceil(88*fvar(11)),8
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 0, -40
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.hittime = 20
ground.velocity = -2.5, -13
air.velocity = -2.5, -10.5
air.hittime = 20
yaccel = .5
fall = 1
air.fall = 1
envshake.time = 10
envshake.ampl = 5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 0
channel = 5
persistent = 0

[State 105, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Discharge
[Statedef 1500]
type = S
movetype = A
physics = N
anim = 1500
velset = 0
ctrl = 0
sprpriority = 2
facep2 = 1 

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarSet
trigger1 = time = 1
v = 13    ;fv = 
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .15
fv = 11    ;fv = 10
value = .15
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .15
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, PalFX]
type = PalFX
triggerall = time >= 10 && time <= 30
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 50,line1]
type = Explod
trigger1 = animelem = 2
anim = 1502
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 3
scale = .8,.8
removeongethit = 1

[State 50,line1]
type = Explod
trigger1 = animelem = 2
anim = 3003
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 3
scale = .4,.4
ontop = 1
removeongethit = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = animelem = 3
anim = 1502
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
scale = .8,.8
removeongethit = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = animelem = 3
anim = 3003
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 25
scale = .8,.8
ontop = 1
removeongethit = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = animelem = 3
anim = 1502
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
scale = 1,1
removeongethit = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = animelem = 3
anim = 3003
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 25
scale = 1,1
ontop = 1
removeongethit = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = animelem = 3
anim = 1502
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
scale = 1.2,1.2
removeongethit = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = animelem = 3
anim = 3003
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 25
scale = 1.2,1.2
ontop = 1
removeongethit = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = animelem = 3
anim = 1502
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
scale = 1.5,1.5
removeongethit = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = animelem = 3
anim = 3003
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 25
scale = 1.5,1.5
ontop = 1
removeongethit = 1

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3001,0
channel = 6
loop = 1

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,2

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,9



[State 3002, helper]
type = Helper
triggerall = var(16) = 0
trigger1 = animelem = 3
pos = 0, 0
postype = p1
stateno = 1505
helpertype = normal
name = "discharge 1"
id = 1505
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

[State 3002, helper]
type = Helper
triggerall = var(16) = 1
trigger1 = animelem = 3
pos = 0, 0
postype = p1
stateno = 1506
helpertype = normal
name = "discharge 2"
id = 1506
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

[State 3002, helper]
type = Helper
triggerall = var(16) = 2
trigger1 = animelem = 3
pos = 0, 0
postype = p1
stateno = 1507
helpertype = normal
name = "discharge 3"
id = 1507
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

[State 3002, helper]
type = Helper
triggerall = var(16) = 3
trigger1 = animelem = 3
pos = 0, 0
postype = p1
stateno = 1508
helpertype = normal
name = "discharge 4"
id = 1505
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 0
;ignorehitpause = 
;persistent = 


[State 0, ChangeAnim]
type = Changestate
trigger1 = time = 30
value = 1501

;---------------------------------------------------------------------------
;Discharge end
[Statedef 1501]
type = S
movetype = I
physics = N
anim = 3001
velset = 0
ctrl = 0
sprpriority = 2

[State 2000, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Discharge (collision 1)
[Statedef 1505]
type = A
movetype = A
physics = N
anim = 1505
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
trigger1 = !time
id = 1500
getpower = 0,0
attr = S, SA
damage    = ceil(50*(root,fvar(11))),5
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 5,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1505
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 14;MoveContact = 1

;Discharge (collision 2)
[Statedef 1506]
type = A
movetype = A
physics = N
anim = 1506
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
triggerall = hitcount < 2
trigger1 = time %2 = 0
id = 1500
getpower = 0,0
attr = S, SA
damage    = ceil(50*(root,fvar(11))),5
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 5,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -5,-7
air.velocity = -5,-7
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1505
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 14;MoveContact = 1

;Discharge (collision 3)
[Statedef 1507]
type = A
movetype = A
physics = N
anim = 1507
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
triggerall = hitcount < 3
trigger1 = time %2 = 0
id = 1500
getpower = 0,0
attr = S, SA
damage    = ceil(50*(root,fvar(11))),5
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 5,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -6,-7.5
air.velocity = -6,-7.5
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1505
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 14;MoveContact = 1

;Discharge (collision 4)
[Statedef 1508]
type = A
movetype = A
physics = N
anim = 1506
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
triggerall = hitcount < 4
trigger1 = time %2 = 0
id = 1500
getpower = 0,0
attr = S, SA
damage    = ceil(50*(root,fvar(11))),5
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 5,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -7,-7
air.velocity = -7,-7
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1505
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 14;MoveContact = 1

;;---------------------------------------------------------------------------
;;Instant Charge (ground)
;[Statedef 1550]
;type = S
;movetype = A
;physics = N
;anim = 1550
;velset = 0
;ctrl = 0
;sprpriority = 2
;facep2 = 1 
;
;[State 0, VarAdd]
;type = VarAdd
;triggerall = var(13) < 300
;trigger1 = animelem = 6
;v = 13    ;fv = 
;value = 100
;ignorehitpause = 1
;
;[State 50,line1]
;type = Explod
;trigger1 = animelem = 6
;anim = 6007
;postype = p1
;pos = 0, 0
;ownpal = 1
;bindtime = 1
;sprpriority = -5
;scale = .8,.8
;
;[State 0, PalFX]
;type = PalFX
;triggerall = time%3 = 0
;trigger1 = animelemtime(6) >= 0
;trigger1 = animelemtime(9) < 0
;time = 1
;add = 200,200,200
;mul = 256,256,256
;invertall = 0
;color = 256
;
;[State 0, StopSnd]
;type = StopSnd
;trigger1 = time = 0
;channel = 0
;ignorehitpause = 1
;
;[State 191, aura]
;type = PlaySnd
;trigger1 = AnimElem = 6
;value = 200,4
;channel = 0
;
;[State 191, aura]
;type = PlaySnd
;trigger1 = AnimElem = 6
;value = 1000,0
;channel = 3
;[State 191, aura]
;type = PlaySnd
;trigger1 = AnimElem = 6
;value = 210,1
;channel = 1
;
;[State 50,line1]
;type = Explod
;trigger1 = animelem = 6
;anim = 197
;id = 196
;postype = p1
;pos = 0, 0
;ownpal = 1
;removetime = -1
;bindtime = -1
;sprpriority = 5
;ignorehitpause = 0
;ontop = 1
;removeongethit = 1
;
;[State 195, 2]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

;---------------------------------------------------------------------------
;Thundershock
[Statedef 3000]
type = S
movetype = A
physics = N
anim = 3000
velset = 0
ctrl = 0
sprpriority = 2
facep2 = 1 

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarSet
trigger1 = time = 1
v = 13    ;fv = 
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(4) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 3000, AfterImage]
type = AfterImage
trigger1 = Animelem = 3
time = 29
length = 12
framegap = 5
palcolor = 0
palbright = -250,-20,50
trans = add1

[state haha]
type = superpause
trigger1 = animelem = 3
time = 45
;movetime = 40
pos = -10,-61
anim = s3005
sound = s30,0
unhittable = 3
poweradd = -1000
darken = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 3
anim = 197
id = 197
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 4
ignorehitpause = 0
supermovetime = -1
removetime = 45
scale = 1.2,1.2

[state 4002, 3.2]
type = explod
trigger1 = animelem = 3
anim = 3006
id = 3006
postype = back
pos = 0, 0
sprpriority = -5
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0
removetime = 45

[state 7010, BURNING]
type = playsnd
trigger1 = time = 0
value = 3000, 0
;channel = 0

[state 7010, BURNING]
type = playsnd
trigger1 = time = 18
value = 3000, 1
;channel = 0

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3001,0
channel = 6
loop = 1

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1810,1

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 3
persistent = 0
anim = 3007
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -4
supermovetime = -1
bindtime = -1
ownpal = 1

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 3
persistent = 0
anim = 3008
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -3
supermovetime = -1
bindtime = -1
ownpal = 1

[State 50,line1]
type = Explod
triggerall = time >= 10 && time <= 100
trigger1 = time%10=0
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = 1.2,.8

[State 0, PalFX]
type = PalFX
triggerall = time >= 10 && time <= 100
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 50,line1]
type = Explod
trigger1 = animelem = 4
anim = 3002
id = 3002
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 3
scale = 0.8,0.8

;Charge lv.0
[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = animelem = 5
anim = 3002
id = 3002
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 88
scale = .6,.6

[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = animelem = 5
anim = 3003
id = 3002
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 90
scale = 1,1
ontop = 1

[State 3002, helper]
type = Helper
triggerall = var(16) = 0
triggerall = time >= 8 && time <= 100
trigger1 = time%7 = 0
pos = 0, -10
postype = p1
stateno = 3002
helpertype = normal
name = "sparking"
id = 3002
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

;Charge lv.1
[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = animelem = 5
anim = 3002
id = 3002
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 88
scale = .8,.8

[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = animelem = 5
anim = 3003
id = 3002
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 90
scale = 1.2,1.2
ontop = 1

[State 3002, helper]
type = Helper
triggerall = var(16) = 1
triggerall = time >= 8 && time <= 100
trigger1 = time%6 = 0
pos = 0, -10
postype = p1
stateno = 3003
helpertype = normal
name = "sparking"
id = 3003
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

;Charge lv.2
[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = animelem = 5
anim = 3002
id = 3002
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 88
scale = 1,1

[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = animelem = 5
anim = 3003
id = 3002
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 90
scale = 1.4,1.4
ontop = 1

[State 3002, helper]
type = Helper
triggerall = var(16) = 2
triggerall = time >= 8 && time <= 100
trigger1 = time%5 = 0
pos = 0, -10
postype = p1
stateno = 3004
helpertype = normal
name = "sparking"
id = 3004
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

;Charge lv.3
[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = animelem = 5
anim = 3002
id = 3002
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 88
scale = 1.4,1.4

[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = animelem = 5
anim = 3003
id = 3002
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 90
scale = 1.5,1.5
ontop = 1

[State 3002, helper]
type = Helper
triggerall = var(16) = 3
triggerall = time >= 8 && time <= 100
trigger1 = time%4 = 0
pos = 0, -10
postype = p1
stateno = 3005
helpertype = normal
name = "sparking"
id = 3005
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = time = 99
anim = 3053
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
scale = .6,.6
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = time = 99
anim = 3053
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
scale = .8,.8
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = time = 99
anim = 3053
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 5
scale = 1,1
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = time = 99
anim = 3053
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
scale = 1.4,1.4
ontop = 1

[State 0, ChangeAnim]
type = Changestate
trigger1 = time = 100
value = 3001

;---------------------------------------------------------------------------
;Thundershock end
[Statedef 3001]
type = S
movetype = I
physics = N
anim = 3001
velset = 0
ctrl = 0
sprpriority = 2

[State 2000, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Thundershock (collision lv.0)
[Statedef 3002]
type = A
movetype = A
physics = N
anim = 3020
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
trigger1 = !time
id = 3000
getpower = 0,0
attr = S, HP
damage    = 13,2
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 0,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 3002
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 7;MoveContact = 1

;Thundershock (collision lv.1)
[Statedef 3003]
type = A
movetype = A
physics = N
anim = 3021
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
trigger1 = !time
id = 3000
getpower = 0,0
attr = S, HP
damage    = 15,3
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 0,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 3003
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 7;MoveContact = 1

;Thundershock (collision lv.2)
[Statedef 3004]
type = A
movetype = A
physics = N
anim = 3022
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
trigger1 = !time
id = 3000
getpower = 0,0
attr = S, HP
damage    = 15,3
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 0,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 3003
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 7;MoveContact = 1

;Thundershock (collision lv.3)
[Statedef 3005]
type = A
movetype = A
physics = N
anim = 3023
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
trigger1 = !time
id = 3000
getpower = 0,0
attr = S, HP
damage    = 15,3
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 0,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 3003
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 7;MoveContact = 1

























;---------------------------------------------------------------------------
;Thundershock (air)
[Statedef 3050]
type = A
movetype = A
physics = N
anim = 3050
velset = 0,0
ctrl = 0
sprpriority = 2
facep2 = 1 

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarSet
trigger1 = time = 1
v = 13    ;fv = 
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(4) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 3000, AfterImage]
type = AfterImage
trigger1 = Animelem = 3
time = 29
length = 12
framegap = 5
palcolor = 0
palbright = -250,-20,50
trans = add1

[state haha]
type = superpause
trigger1 = animelem = 3
time = 45
;movetime = 40
pos = -10,-61
anim = s3005
sound = s30,0
unhittable = 3
poweradd = -1000
darken = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 3
anim = 197
id = 197
postype = p1
pos = 0, -30
ownpal = 1
bindtime = -1
sprpriority = 4
ignorehitpause = 0
supermovetime = -1
removetime = 45
scale = 1.2,1.2

[state 4002, 3.2]
type = explod
trigger1 = animelem = 3
anim = 3006
id = 3006
postype = back
pos = 0, 0
sprpriority = -5
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0
removetime = 45

[state 7010, BURNING]
type = playsnd
trigger1 = time = 0
value = 3000, 0
;channel = 0

[state 7010, BURNING]
type = playsnd
trigger1 = time = 18
value = 3000, 1
;channel = 0

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3001,0
channel = 6
loop = 1

[State 191, aura]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1810,1


[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 3
persistent = 0
anim = 3007
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -4
supermovetime = -1
bindtime = -1
ownpal = 1

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 3
persistent = 0
anim = 3008
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -3
supermovetime = -1
bindtime = -1
ownpal = 1

[State 0, PalFX]
type = PalFX
triggerall = time >= 10 && time <= 100
trigger1 = time%3 = 0
time = 1
add = 200,200,200
mul = 256,256,256
invertall = 0
color = 256

[State 50,line1]
type = Explod
trigger1 = animelem = 4
anim = 3052
postype = p1
pos = 0, -20
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 3
scale = 0.6,0.6


;Charge lv.0
[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = animelem = 5
anim = 3003
id = 3002
postype = p1
pos = 0, -10
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 90
scale = 1,1
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = animelem = 5
anim = 3052
id = 3002
postype = p1
pos = 0, -20
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 88
scale = .6,.6

[State 3002, helper]
type = Helper
triggerall = var(16) = 0
triggerall = time >= 8 && time <= 100
trigger1 = time%7 = 0
pos = 0, -20
postype = p1
stateno = 3002
helpertype = normal
name = "sparking"
id = 3052
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

;Charge lv.1
[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = animelem = 5
anim = 3003
id = 3002
postype = p1
pos = 0, -10
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 90
scale = 1.2,1.2
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = animelem = 5
anim = 3052
id = 3002
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 88
scale = .8,.8

[State 3002, helper]
type = Helper
triggerall = var(16) = 1
triggerall = time >= 8 && time <= 100
trigger1 = time%6 = 0
pos = 0, -10
postype = p1
stateno = 3003
helpertype = normal
name = "sparking"
id = 3053
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

;Charge lv.2
[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = animelem = 5
anim = 3003
id = 3002
postype = p1
pos = 0, -10
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 90
scale = 1.4,1.4
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = animelem = 5
anim = 3052
id = 3002
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 88
scale = 1,1

[State 3002, helper]
type = Helper
triggerall = var(16) = 2
triggerall = time >= 8 && time <= 100
trigger1 = time%5 = 0
pos = 0, -12
postype = p1
stateno = 3004
helpertype = normal
name = "sparking"
id = 3054
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

;Charge lv.3
[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = animelem = 5
anim = 3003
id = 3002
postype = p1
pos = 0, -10
ownpal = 1
bindtime = -1
sprpriority = 5
removetime = 90
scale = 1.5,1.5
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = animelem = 5
anim = 3052
id = 3002
postype = p1
pos = 0, 30
ownpal = 1
bindtime = -1
sprpriority = -4
removetime = 88
scale = 1.4,1.4

[State 3002, helper]
type = Helper
triggerall = var(16) = 3
triggerall = time >= 10 && time <= 100
trigger1 = time%4 = 0
pos = 0, 20
postype = p1
stateno = 3005
helpertype = normal
name = "sparking"
id = 3055
ownpal = 0
supermovetime = 999999
pausemovetime = 999999

[State 50,line1]
type = Explod
triggerall = var(16) = 0
trigger1 = time = 99
anim = 3053
postype = p1
pos = 0, -20
ownpal = 1
bindtime = -1
sprpriority = -4
scale = .6,.6
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 1
trigger1 = time = 99
anim = 3053
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = -4
scale = .8,.8
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 2
trigger1 = time = 99
anim = 3053
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 5
scale = 1,1
ontop = 1

[State 50,line1]
type = Explod
triggerall = var(16) = 3
trigger1 = time = 99
anim = 3053
postype = p1
pos = 0, 30
ownpal = 1
bindtime = -1
sprpriority = -4
scale = 1.4,1.4
ontop = 1

[State 0, ChangeAnim]
type = Changestate
trigger1 = time = 100
value = 3051

;---------------------------------------------------------------------------
;Thundershock air end
[Statedef 3051]
type = A
movetype = I
physics = N
anim = 3051
velset = 0
ctrl = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
physics = A         ;A,C,S,N
ignorehitpause = 1

;Thundershock (collision)
[Statedef 3052]
type = A
movetype = A
physics = N
anim = 3054
velset = 0
sprpriority = 5

[State 3000, hit]
type = hitdef
trigger1 = !time
id = 3050
getpower = 0,0
attr = A, HP
damage    = 15,2
animtype = hard
hitflag = MAFP
guardflag = MA
sparkno = -1;S8003
guard.sparkno = -1;S8000
sparkxy = -10, -65
getpower = 0
hitsound = S5,12
guardsound = S6,0
pausetime = 0,9
ground.hittime = 15
ground.type = high
ground.slidetime = 15
ground.velocity = -4,-6
air.velocity = -4,-6
air.fall = 1
fall.recover = 0
fall=1
yaccel = .5
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
air.juggle = 0;25
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[state 1060, 8]
type = explod
;triggerall = palno != 12
trigger1 = movehit
anim = 6018
id = 6018
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 5
facing = -1
removetime = 30
bindtime = -1
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 7010, BURNING]
type = playsnd
trigger1 = movehit
value = 3, 3
channel = 5
persistent = 0

[state 3103, hitspark]
type = explod
trigger1 = movehit = 1
anim = 6208
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[state 3103, guardspark]
type = explod
trigger1 = moveguarded = 1
anim = 6220
pos = 0,-30
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
facing = -1
supermove = 1

[State 3103, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 3103, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 3052
attr = SCA, NP, SP, HP, NA, SA, HA
ignorehitpause = 1

[State 3103, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 3103, 2]
type = DestroySelf
trigger1 = time = 7;MoveContact = 1

;---------------------------------------------------------------------------
;Skull Bash
[Statedef 3100]
type = S
movetype = A
physics = N
anim = 3010
velset = 0
ctrl = 0
sprpriority = 2
facep2 = 1 

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger2 = command != "holdfwd"
trigger2 = command != "holdback"
trigger2 = command != "holdup"
trigger2 = command != "holddown"
v = 17    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = command = "holdback"
trigger2 = command = "holdup"
v = 17    ;fv = 10
value = -1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holddown"
v = 17    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3010,0
channel = 0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3011,0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3011,1
channel = 6
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(4) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 3000, AfterImage]
type = AfterImage
trigger1 = Animelem = 2
time = 29
length = 12
framegap = 5
palcolor = 0
palbright = -250,-20,50
trans = add1

[state haha]
type = superpause
trigger1 = animelem = 2
time = 45
movetime = 45
pos = -10,-61
anim = s3005
sound = s30,0
unhittable = 3
poweradd = -1000
darken = 0

[state 4002, 3.2]
type = explod
trigger1 = animelem = 2
anim = 3006
id = 3006
postype = back
pos = 0, 0
sprpriority = -5
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0
removetime = 40

;[state 7010, BURNING]
;type = playsnd
;trigger1 = time = 0
;value = 3000, 0
;channel = 0

[State 50,line1]
type = Explod
triggerall = anim = 3010
trigger1 = animelemtime(2) >= 0
trigger1 = time%10=0
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
supermovetime = 45
sprpriority = -5
scale = .8,.8


[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 2
persistent = 0
anim = 3007
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -4
supermovetime = -1
bindtime = -1
ownpal = 1

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 2
persistent = 0
anim = 3008
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -3
supermovetime = -1
bindtime = -1
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 46
value = 3101

;---------------------------------------------------------------------------
;Skull Bash (charge!)
[Statedef 3101]
type = S
movetype = A
physics = N
anim = 3011
velset = 0
ctrl = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "charge"
ID = 3102
stateno = 3102 
pos = 0,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3010,1
channel = 0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3012,0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3012,1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = var(17) = 0
trigger1 = animelem = 2
x = 11
y = -11
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
triggerall = var(17) = -1
trigger1 = animelem = 2
x = 4
y = -14
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
triggerall = var(17) = 1
trigger1 = animelem = 2
x = 10
y = -4
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = animelemtime(2) >= 0
value = fvar(17)
scale = 1,1
ignorehitpause = 1

[State 2010, AS]
type = Varset
triggerall = movecontact = 0
trigger1 = vel x != 0
fv = 17
value = atan(vel y/vel x)*(-180.0/pi)+((vel x<0)*180)
[State 2010, AS]
type = varset
triggerall = movecontact = 0
trigger1 = vel x = 0
fv = 17
value = ifelse(vel y<0,90,-90)

[State 920, hit]
type = HitDef
triggerall = var(17) = 0
trigger1 = !time
id = 3101
attr = A, HA
hitflag = MAF
guardflag = M
animtype = Diagup
air.animtype = Diagup
priority = 5,Hit
damage = ceil(280*fvar(11)),28
pausetime = 20,20
sparkno = S6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,5
guardsound = S6,0
ground.type = low
air.type = Low
ground.type = Low
ground.slidetime = 24+1*(var(42))
guard.slidetime = 25
ground.hittime = 24+1*(var(42))
guard.hittime = 25
air.hittime = 24
ground.velocity = -7,-7
air.velocity = -7,-7
fall = 1
fall.recover = 0
yaccel = .5
getpower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 920, hit]
type = HitDef
triggerall = var(17) = -1
trigger1 = !time
id = 3101
attr = A, HA
hitflag = MAF
guardflag = M
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(280*fvar(11)),28
pausetime = 20,20
sparkno = S6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,5
guardsound = S6,0
ground.type = low
air.type = Low
ground.type = Low
ground.slidetime = 24+1*(var(42))
guard.slidetime = 25
ground.hittime = 24+1*(var(42))
guard.hittime = 25
air.hittime = 24
ground.velocity = -4,-12
air.velocity = -4,-12
fall = 1
fall.recover = 0
yaccel = .5
getpower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 920, hit]
type = HitDef
triggerall = var(17) = 1
trigger1 = !time
id = 3101
attr = A, HA
hitflag = MAF
guardflag = M
animtype = Back
air.animtype = Back
priority = 5,Hit
damage = ceil(280*fvar(11)),28
pausetime = 20,20
sparkno = S6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,5
guardsound = S6,0
ground.type = low
air.type = Low
ground.type = Low
ground.slidetime = 24+1*(var(42))
guard.slidetime = 25
ground.hittime = 24+1*(var(42))
guard.hittime = 25
air.hittime = 24
ground.velocity = -10,-5
air.velocity = -10,-5
fall = 1
fall.recover = 0
yaccel = .5
getpower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = var(17) < 1
trigger1 = vel y > 0
movetype = I      ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
triggerall = animelemtime(2) > 0
trigger1 = var(17) < 1
trigger1 = time <= 30
x = .95
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0
y = 0
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
triggerall = animelemtime(2) > 0
trigger1 = var(17) < 1
y = .5
[State 0, VelAdd]
type = VelAdd
triggerall = animelemtime(2) > 0
trigger1 = var(17) = 1
y = .25

[State 0, ChangeState]
type = ChangeState
triggerall = vel y > 0
trigger1 = pos y >= 0
value = 5100
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Skull Bash (FX)
[Statedef 3102]
type = A
movetype = A
physics = N
anim = 3013
velset = 0
ctrl = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 1
pos = 0,-30
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = (root,fvar(17))
scale = .3,.5
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno != 3101
trigger1 = parent,stateno != 3151
trigger2 = parent,stateno = 3101
trigger2 = parent,vel y > 0 && root,var(17) < 1
trigger3 = parent,movecontact
ignorehitpause = 0

;---------------------------------------------------------------------------
;Skull Bash Air
[Statedef 3150]
type = S
movetype = A
physics = N
anim = 3010
velset = 0,0
ctrl = 0
sprpriority = 2
facep2 = 1 

[State 0, VarSet]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
v = 17    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = command = "holdback"
trigger2 = command = "holddown"
v = 17    ;fv = 10
value = -1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdup"
v = 17    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3010,0
channel = 0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3011,0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3011,1
channel = 6
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(4) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 3000, AfterImage]
type = AfterImage
trigger1 = Animelem = 2
time = 29
length = 12
framegap = 5
palcolor = 0
palbright = -250,-20,50
trans = add1

[state haha]
type = superpause
trigger1 = animelem = 2
time = 45
movetime = 45
pos = -10,-61
anim = s3005
sound = s30,0
unhittable = 3
poweradd = -1000
darken = 0

[state 4002, 3.2]
type = explod
trigger1 = animelem = 2
anim = 3006
id = 3006
postype = back
pos = 0, 0
sprpriority = -5
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0
removetime = 40

;[state 7010, BURNING]
;type = playsnd
;trigger1 = time = 0
;value = 3000, 0
;channel = 0

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 2
persistent = 0
anim = 3007
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -4
supermovetime = -1
bindtime = -1
ownpal = 1

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 2
persistent = 0
anim = 3008
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -3
supermovetime = -1
bindtime = -1
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 46
value = 3151

;---------------------------------------------------------------------------
;Skull Bash Air (charge!)
[Statedef 3151]
type = S
movetype = A
physics = N
anim = 3011
velset = 0
ctrl = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "charge"
ID = 3102
stateno = 3102 
pos = 0,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3010,1
channel = 0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3012,0
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3012,1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = var(17) = 0
trigger1 = animelem = 2
x = 10
y = 10
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
triggerall = var(17) = -1
trigger1 = animelem = 2
x = 4
y = 10
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
triggerall = var(17) = 1
trigger1 = animelem = 2
x = 10
y = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = animelemtime(2) >= 0
value = fvar(17)
scale = 1,1
ignorehitpause = 1

[State 2010, AS]
type = Varset
triggerall = movecontact = 0
trigger1 = vel x != 0
fv = 17
value = atan(vel y/vel x)*(-180.0/pi)+((vel x<0)*180)
[State 2010, AS]
type = varset
triggerall = movecontact = 0
trigger1 = vel x = 0
fv = 17
value = ifelse(vel y<0,90,-90)

[State 920, hit]
type = HitDef
trigger1 = !time
id = 3101
attr = A, HA
hitflag = MAFD
guardflag = HA
animtype = Back
air.animtype = Back
priority = 5,Hit
damage = ceil(280*fvar(11)),28
pausetime = 20,20
sparkno = S6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,5
guardsound = S6,0
ground.type = low
air.type = Low
ground.type = Low
ground.slidetime = 24+1*(var(42))
guard.slidetime = 25
ground.hittime = 24+1*(var(42))
guard.hittime = 25
air.hittime = 24
ground.velocity = -7,-3
air.velocity = -7,-3
fall = 1
fall.recover = 0
yaccel = .5
getpower = 0,0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0
y = 0
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelemtime(2) > 0
y = .4

[State 0, ChangeState]
type = ChangeState
triggerall = vel y > 0
trigger1 = pos y >= 0
value = 5100
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Wild Charge (start)
[Statedef 3200]
type = S
movetype = A
physics = N
anim = 3200
velset = 0
ctrl = 0
sprpriority = 2
facep2 = 1 

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarSet
trigger1 = time = 1
v = 13    ;fv = 
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3200,0
channel = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 3000, AfterImage]
type = AfterImage
trigger1 = Animelem = 8
time = 29
length = 12
framegap = 5
palcolor = 0
palbright = -250,-20,50
trans = add1

[state haha]
type = superpause
trigger1 = animelem = 8
time = 45
;movetime = 40
pos = -10,-61
anim = s3005
sound = s30,0
unhittable = 3
poweradd = -1000
darken = 0

[state 4002, 3.2]
type = explod
trigger1 = animelem = 8
anim = 3006
id = 3006
postype = back
pos = 0, 0
sprpriority = -5
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0
removetime = 40

;[state 7010, BURNING]
;type = playsnd
;trigger1 = time = 0
;value = 3000, 0
;channel = 0

[State 50,line1]
type = Explod
triggerall = anim = 3200
trigger1 = animelem = 8
anim = 6007
postype = p1
pos = 0, 0
ownpal = 1
bindtime = 1
sprpriority = -5
scale = .8,.8
supermovetime = -1

[State 50,line1]
type = Explod
trigger1 = animelem = 8
anim = 197
id = 197
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 4
ignorehitpause = 0
supermovetime = -1
removetime = 45
scale = 1.2,1.2

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 8
persistent = 0
anim = 3007
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -4
supermovetime = -1
bindtime = -1
ownpal = 1

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 8
persistent = 0
anim = 3008
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -3
supermovetime = -1
bindtime = -1
ownpal = 1

[State 0, PalFX]
type = PalFX
trigger1 = animelem = 8
time = -1
add = 250,150,50
sinadd = -50,-50,-50,4
invertall = 0
color = 256
ignorehitpause = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 15
value = 3201

;---------------------------------------------------------------------------
;Wild Charge (Dash)
[Statedef 3201]
type = S;A
movetype = A;A
physics = S;N
anim = 3201
ctrl = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 191, aura]
type = PlaySnd
trigger1 = time = 0
value = 3201,0
channel = 6
loop = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .2
fv = 11    ;fv = 10
value = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .2
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 100, dust]
type = Explod
trigger1 = time = 0
anim = 103
postype = p1
pos = 0,2
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .3,.3

[State 50,line1]
type = Explod
trigger1 = time = 0
anim = 197
id = 3201
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 6
ignorehitpause = 0
removetime = 45
scale = 1.2,1.2

[State 50,line1]
type = Explod
trigger1 = time = 0
anim = 3202
id = 3202
postype = p1
pos = -10, -30
ownpal = 1
bindtime = -1
sprpriority = 7
ignorehitpause = 0
removetime = -1
scale = .6,.4
[State 50,line1]
type = Explod
trigger1 = time = 0
anim = 3203
id = 3203
postype = p1
pos = -30, -30
ownpal = 1
bindtime = -1
sprpriority = 8
ignorehitpause = 0
removetime = -1
scale = .8,.8

[State 1200, 1]
type = Width
trigger1 = 1
value = 15,0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 10;const(velocity.run.fwd.x)

[State -3, Double Jump Sound]
type = PlaySnd
trigger1 = time = 0
value = 100,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 50
add = 250,150,50
sinadd = -50,-50,-50,4
invertall = 0
color = 256
ignorehitpause = 1

[State 2300, hit]
type = HitDef
trigger1 = time= 0
id = 3200
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = ceil(50*fvar(11)),5
pausetime = 6,6
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,12
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 40
guard.slidetime = 40
ground.hittime = 40
guard.hittime = 40
air.hittime = 40
ground.velocity = -5,0
air.velocity = -5,-2
getpower = 0,0
snap = 50,0
p2facing = 1
kill = 0
guard.kill = 0
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget(3200)
trigger1 = movehit = 1
value = 3204
ID = 3200
ignorehitpause = 1

[State 100, 5.1]
type = ChangeState
trigger1 = time > 16
trigger1 = movecontact = 0
value = 3205

[State 100, 5.1]
type = ChangeState
trigger1 = movecontact >= 1
value = 3202

;---------------------------------------------------------------------------
;Wild Charge (Hit!)
[Statedef 3202]
type = S;A
movetype = A;A
physics = N
velset = 6,0
ctrl = 0
sprpriority = 2

[State 0, Helper]
type = Helper
triggerall = teammode != simul && enemy, teammode != simul
triggerall = var(16) = 3
triggerall = var(18) = 0
triggerall = power >= 2000
triggerall = numhelper(3215) = 0
trigger1 = movehit
helpertype = normal ;player
name = "VSF Confirm"
ID = 3215
stateno = 3215 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 120
add = 250,150,50
sinadd = -50,-50,-50,4
invertall = 0
color = 256
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget(3200)
trigger1 = movehit = 1
value = 3204
ID = 3200
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .2
fv = 11    ;fv = 10
value = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .2
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 2300, hit]
type = HitDef
trigger1 = time %6 = 5
id = 3200
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = ceil(30*fvar(11)),3
pausetime = 6,6
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,12
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 40
guard.slidetime = 40
ground.hittime = 40
guard.hittime = 40
air.hittime = 40
ground.velocity = -5,0
air.velocity = -5,-2
getpower = 0,0
p2facing = 1
kill = 0
guard.kill = 0
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
triggerall = moveguarded
trigger1 = time = 60
value = 3210
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
triggerall = moveguarded = 0 && var(16) < 3
trigger1 = time = 60
value = 3210+var(16)
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
triggerall = moveguarded = 0 && var(16) = 3
trigger1 = time = 60
value = 3212
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Wild Charge (P2 hit)
[Statedef 3204]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = 5012

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5001 ;Stand get-hit (knocked back)
;---------------------------------------------------------------------------
; Wild Charge (whiff)
[Statedef 3205]
type = S
movetype = I
physics = S
velset = 9,0
anim = 3205

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
color = 256
ignorehitpause = 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 102, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1; RUN_BACK2 (land)

;---------------------------------------------------------------------------
; Wild Charge (Lv. 0 finish)
[Statedef 3210]
type = S
movetype = A
physics = S
velset = ifelse(prevstateno=3202,9,0),0
anim = 3204
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelemtime(8) < 0
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .2
fv = 11    ;fv = 10
value = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .2
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
color = 256
ignorehitpause = 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -2
y = -4
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S210,2

[State 50,line1]
type = Explod
trigger1 = animelem = 6
anim = 621
postype = p1
pos = 0, 20
ownpal = 1
bindtime = -1
sprpriority = 5
scale = 1.4,1.4
ignorehitpause = 0
removetime = -2
ontop = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,2

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 3200,1

[State 2300, hit]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(50*fvar(11)),5
pausetime = 6,6
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-8
air.velocity = -3,-8
getpower = 0,0
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 2300, hit]
type = HitDef
trigger1 = animelem = 7
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(60*fvar(11)),6
pausetime = 7,7
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-9
air.velocity = -3,-9
getpower = 0,0
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 2300, hit]
type = HitDef
trigger1 = animelem = 8
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(70*fvar(11)),7
pausetime = 8,8
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,8
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-10
air.velocity = -3,-10
getpower = 0,0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 9
movetype = I       ;S,A,C,L
physics = A         ;A,C,S,N
ignorehitpause = 1

;---------------------------------------------------------------------------
; Wild Charge (Lv. 1 link)
[Statedef 3211]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3210
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .2
fv = 11    ;fv = 10
value = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .2
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
color = 256
ignorehitpause = 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1

[State 2300, hit]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(100*fvar(11)),10
pausetime = 6,6
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -1,-8
air.velocity = -1,-6.75
getpower = 0,0
yaccel = .4
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = -4
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelemtime(2) > 0
y = .3
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = var(16) < 3
trigger1 = animelemtime(2) > 0 && pos y >= 0
value = 3210
ctrl = 0
[State 0, ChangeState]
type = ChangeState
triggerall = var(16) = 3 && (var(18) = 0 || (teammode = simul || enemy, teammode = simul))
trigger1 = animelemtime(2) > 0 && pos y >= 0
value = 3213
ctrl = 0
[State 0, ChangeState]
type = ChangeState
triggerall = var(18) = 1
trigger1 = animelemtime(2) > 0 && pos y >= 0
value = 3220
ctrl = 0

;---------------------------------------------------------------------------
; Wild Charge (Lv. 2 link)
[Statedef 3212]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3210
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .2
fv = 11    ;fv = 10
value = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .2
fvar(11) = fvar(11)*.9
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
color = 256
ignorehitpause = 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1

[State 2300, hit]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(100*fvar(11)),10
pausetime = 6,6
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = 0,-7
air.velocity = 0,-7
getpower = 0,0
yaccel = .4
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = -4
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelemtime(2) > 0
y = .3
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animelemtime(2) > 0 && pos y >= 0
value = 3211
ctrl = 0

;---------------------------------------------------------------------------
; Wild Charge (Lv. 3 finish)
[Statedef 3213]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3204
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelemtime(8) < 0
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .2
fv = 11    ;fv = 10
value = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .2
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
color = 256
ignorehitpause = 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -2
y = -4
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S210,2

[State 50,line1]
type = Explod
trigger1 = animelem = 6
anim = 621
postype = p1
pos = 0, 20
ownpal = 1
bindtime = -1
sprpriority = 5
scale = 1.4,1.4
ignorehitpause = 0
removetime = -2
ontop = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,2

[State 200, voice]
type = PlaySnd
trigger1 = animelem = 2
value = 3200,1

[State 2300, hit]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(80*fvar(11)),8
pausetime = 6,6
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-8
air.velocity = -3,-8
getpower = 0,0
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 2300, hit]
type = HitDef
trigger1 = animelem = 7
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(90*fvar(11)),9
pausetime = 7,7
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-9
air.velocity = -3,-9
getpower = 0,0
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 2300, hit]
type = HitDef
trigger1 = animelem = 8
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(100*fvar(11)),100
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,8
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-10
air.velocity = -3,-10
getpower = 0,0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 9
movetype = I       ;S,A,C,L
physics = A         ;A,C,S,N
ignorehitpause = 1

;-------------------------------------------------------------------------------
; Volt Shock Fist Confirmation Helper
[Statedef 3215]
type = S
ctrl = 0
poweradd = 0
anim = 9999
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0    ;fv = 10
value = 256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1
[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0,256
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, command = "wildc"
value = 3216
ctrl = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno != 3202
trigger2 = parent,var(16) != 3
trigger3 = parent,var(18) = 1
trigger4 = power < 2000
ignorehitpause = 1

;-------------------------------------------------------------------------------
; Volt Shock Fist Confirmed!
[Statedef 3216]
type = S
ctrl = 0
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1150,0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1152
ID = 1152
pos = 20,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 10
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = var(0) > 0
v = 0    ;fv = 
value = -8
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = var(0) < 0
v = 0    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(0) <= 0
flag = invisible
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1
[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,1
invertall = 0
color = 0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = var(0) > 0
trans = addalpha
alpha = var(0),256
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = (root,anim)
elem = 0
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 18    ;fv = 
value = 1
ignorehitpause = 1
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -2000
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(0) = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Volt Shock Fist (Success!)
[Statedef 3220]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3204
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = numtarget(3220)
trigger1 = facing = 1
x = ((pos x=0)-(pos x))*.1
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
triggerall = numtarget(3220)
trigger1 = facing != 1
x = -((pos x=0)-(pos x))*.1
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = numtarget(3220)
trigger1 = numhelper(3229) = 0
helpertype = normal ;player
name = "BG"
ID = 3229
stateno = 3229 
pos = 0,0
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .2
fv = 11    ;fv = 10
value = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .2
fvar(11) = fvar(11)*.8
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 1
color = 256
ignorehitpause = 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -2
y = -4
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S210,2

[State 50,line1]
type = Explod
trigger1 = animelem = 6
anim = 621
postype = p1
pos = 0, 20
ownpal = 1
bindtime = -1
sprpriority = 5
scale = 1.4,1.4
ignorehitpause = 0
removetime = -2
ontop = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,2

[State 2300, hit]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(50*fvar(11)),5
pausetime = 6,6
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-8
air.velocity = -3,-8
getpower = 0,0
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 2300, hit]
type = HitDef
trigger1 = animelem = 7
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(60*fvar(11)),6
pausetime = 7,7
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-9
air.velocity = -3,-9
getpower = 0,0
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
[State 2300, hit]
type = HitDef
trigger1 = animelem = 8
id = 3220
attr = S, HA
hitflag = MAF
guardflag = MA
animtype = Up
air.animtype = Up
priority = 5,Hit
damage = ceil(70*fvar(11)),7
pausetime = 15,15
sparkno = s6208
guard.sparkno = s6220
sparkxy = 10,-10
hitsound = S5,8
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 18
ground.velocity = -3,-10
air.velocity = -3,-10
getpower = 0,0
kill = 0
fall = 1
fall.recover = 0
p2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget(3220)
trigger1 = target(3220), stateno != 3225
trigger1 = movehit = 1
value = 3225
ID = 3220
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 9
movetype = I       ;S,A,C,L
physics = N         ;A,C,S,N
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = animelemtime(9) >= 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = numtarget(3220) = 1
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 3221
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
triggerall = numtarget(3220) = 0
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Volt Shock Fist (Finish)
[Statedef 3221]
type = S
movetype = A
physics = S
velset = 0,0
sprpriority = 40
anim = 3220
poweradd = 0

[State 50,line1]
type = Explod
trigger1 = time = 10
anim = 197
id = 3220
postype = p1
pos = 0, 0
ownpal = 1
removetime = 10
bindtime = -1
sprpriority = 41
ignorehitpause = 0
ontop = 1
removeongethit = 1

[State 50,line1]
type = Explod
trigger1 = time = 110
anim = 197
id = 3220
postype = p1
pos = 0, -30
ownpal = 1
removetime = -1
bindtime = -1
sprpriority = 42
ignorehitpause = 0
ontop = 1
removeongethit = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 110
trigger2 = time = 150
value = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = S5,5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S5,13

[State 0, Explod]
type = Explod
trigger1 = time = 110
trigger2 = time = 150
anim = 6208
ID = 6208
pos = 0,0
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 100
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 110
value = -150
ID = 3220
kill = 0
ignorehitpause = 1
[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 150
value = -200
ID = 3220
kill = 1
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 20
value = 3227
ID = 3220
ignorehitpause = 1
[State 0, TargetState]
type = TargetState
trigger1 = time = 110
value = 3228
ID = 3220
ignorehitpause = 1
[State 0, TargetState]
type = TargetState
trigger1 = time = 250
value = 3235
ID = 3220
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 150
y = -8
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
trigger1 = time >= 150
y = .9
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S3220,0
channel = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = S3220,1
channel = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S3221,0
channel = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = S3221,1
channel = 1

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 3224
ID = 3224
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,10
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 50
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = anim = 3226
trigger1 = numexplod(3228) = 0
anim = 3229
ID = 3228
pos = 0,0
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = -50
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = anim = 3226
trigger1 = numexplod(3229) = 0
anim = 3229
ID = 3229
pos = 210,0
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = -50
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 52, Landing Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = 0
ignorehitpause = 1

[State 0, Turn]
type = null;Turn
triggerall = anim = 3220
triggerall = animelem = 3
trigger1 = facing = -1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3220 && animtime = 0
value = 3226
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 110
value = 3221
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 150
value = 3222
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 20
y = -.4
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = time = 110
y = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 250
value = 3230
ctrl = 0
ignorehitpause = 1

;------------------
; Volt Shock Fist- preparing to blast off
[Statedef 3225]
type    = A
movetype= H
physics = N
velset = 0,0

[State 751, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = time < 25
value = 3225
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, PosFreeze]
type = PosFreeze
trigger1 = time < 25
value = 1
;ignorehitpause = 
;persistent = 

[State 752, Velocity]
type = VelSet
trigger1 = Time = 25
x = -2
y = -20

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = screenpos y <= -200
value = 3226
ctrl = 0
ignorehitpause = 1

;------------------
; Volt Shock Fist - in the nether (until needed)
[Statedef 3226]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = 1
value = 3226
ignorehitpause = 1

[State 0, Turn]
type = null;Turn
trigger1 = facing = 1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = -1010
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

;------------------
; Volt Shock Fist - Falling Down (NOW you're needed)
[Statedef 3227]
type    = A
movetype= H
physics = N
sprpriority = 45

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = 1
value = 3227
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 10
ignorehitpause = 1

;------------------
; Volt Shock Fist - Hit!
[Statedef 3228]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 45

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 3228
ignorehitpause = 1
[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 40
value = 3230
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 40
y = 10
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
trigger1 = time >= 40
trigger1 = vel y > .5
y = .9
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

;-------------------------------------------------------------------------------
; Volt Shock Fist (BG)
[Statedef 3229]
type = S
ctrl = 0
anim = 9999
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = root, stateno != [3220,3224]
v = 1    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
triggerall = var(1) = 0
trigger1 = var(0) < 256
v = 0    ;fv = 
value = 10
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = var(1) = 1
trigger1 = var(0) > 0
v = 0    ;fv = 
value = -10
ignorehitpause = 1
[State 0, VarAdd]
type = VarSet
trigger1 = var(0) > 256
v = 0    ;fv = 
value = 256
ignorehitpause = 1
[State 0, VarAdd]
type = VarSet
trigger1 = var(0) < 0
v = 0    ;fv = 
value = 0
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = (256-var(0)),(256-var(0)),(256-var(0))
sinadd = 0,0,0,10
invertall = 0
color = 256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(1) = 0
flag = nobardisplay
flag2 = timerfreeze
ignorehitpause = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(0) >= 256
flag = noBG
flag2 = noFG
flag3 = globalnoshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(1) = 1
trigger1 = var(0) <= 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Volt Shock Fist (Finish)
[Statedef 3230]
type = A
movetype = I
physics = A
velset = 0,0
anim = 41

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -400
ignorehitpause = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -80
ignorehitpause = 1

;---------------------------------------------------------------------------
; Volt Shock Fist (opponent falls)
[Statedef 3235]
type = A
movetype = H
physics = N
velset = 0,18

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -450
ignorehitpause = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -80
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = pos y >= 0
value = 5100
ignorehitpause = 0
;---------------------------------------------------------------------------
; Volt Tackle
[Statedef 3500]
type = S
movetype = A
physics = S
anim = 3500
velset = 0,0
ctrl = 0
sprpriority = 2
facep2 = 1 

[state 7010, BURNING]
type = playsnd
trigger1 = time = 0
value = 3500, 0
;channel = 0

[State 191, aura]
type = PlaySnd
trigger1 = time = 10
value = 3501,0

[State 191, aura]
type = PlaySnd
trigger1 = time = 30
value = 3501,1

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [0,99]
v = 16    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [100,199]
v = 16    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = [200,299]
v = 16    ;fv = 10
value = 2
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(13) = 300
v = 16    ;fv = 10
value = 3
ignorehitpause = 1
[State 0, VarAdd]
type = VarSet
trigger1 = time = 1
v = 13    ;fv = 
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 26    ;fv = 10
value = 300+(120*var(16))
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 5    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 3000, AfterImage]
type = AfterImage
trigger1 = Animelem = 3
time = 29
length = 12
framegap = 5
palcolor = 0
palbright = -250,-20,50
trans = add1

[state haha]
type = superpause
trigger1 = animelem = 3
time = 45
movetime = 45
pos = -10,-61
anim = s3005
sound = s30,0
unhittable = 3
poweradd = -3000
darken = 0

[State 50,line1]
type = Explod
trigger1 = animelem = 3
anim = 197
id = 197
postype = p1
pos = 0, 0
ownpal = 1
bindtime = -1
sprpriority = 4
ignorehitpause = 0
supermovetime = -1
removetime = 45
scale = 1.2,1.2

[state 4002, 3.2]
type = explod
trigger1 = animelem = 3
anim = 3006
id = 3006
postype = back
pos = 0, 0
sprpriority = -5
ownpal = 1
bindtime = -1
supermove = 1
removeongethit = 1
persistent = 0
removetime = 45

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 3
persistent = 0
anim = 3007
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -4
supermovetime = -1
bindtime = -1
ownpal = 1

[State 3000, 9] ;Super Portrait
type = Explod
trigger1 = animelem = 3
persistent = 0
anim = 3008
postype = left
pos = ifelse(facing = 1, 0, 319), -100 ;0, 0
facing = facing
velocity = 0, 0
accel = 0, 0
removetime = -2
sprpriority = -3
supermovetime = -1
bindtime = -1
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 8
value = 3501
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Volt Tackle (Charge!)
[Statedef 3501]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(26) > 0
v = 26    ;fv = 
value = -1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) < .1
fv = 11    ;fv = 10
value = .1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(21) = 1 && fvar(11) > .1
fvar(11) = fvar(11)*.99
ignorehitpause = 1

[state 7010, BURNING]
type = playsnd
triggerall = prevstateno = 3500
trigger1 = animelem = 14
value = 3500, 1
;channel = 0

[State 191, aura]
type = PlaySnd
triggerall = prevstateno = 3501
trigger1 = time = 0
value = f7,0

[State 191, aura]
type = PlaySnd
triggerall = prevstateno = 3500
trigger1 = time = 1
value = 3502,0
channel = 6
abspan = 0
[State 191, aura]
type = PlaySnd
trigger1 = time > 1
value = 3502,1
channel = 6
lowpriority = 1
loop = 1
abspan = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0; to prevent him from scrolling too far
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = numexplod(3505) = 0
trigger1 = animelemtime(14) >= 0
anim = 3505
ID = 3505
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = animelemtime(14) >= 0 && gametime %5 = 0
anim = 3506
ID = 3506
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = .5,.5
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = prevstateno = 3500
trigger1 = time = 0
v = 22    ;fv = 10
value = 15
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = prevstateno = 3500
trigger1 = time = 0
v = 23    ;fv = 10
value = -15
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = prevstateno = 3500
trigger1 = animelem = 14
y = -50
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = prevstateno = 3501
triggerall = var(24) = 1
trigger1 = time = 0
v = 23    ;fv = 10
value = -var(23)
ignorehitpause = 1
[State 0, Turn]
type = Turn
triggerall = prevstateno = 3501
triggerall = var(25) = 1
trigger1 = time = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 24    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 25    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 3500
trigger1 = animelemtime(14) >= 0
trigger2 = prevstateno = 3501
x = var(22)
y = var(23)
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
ignorehitpause = 1
[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VarSet
trigger1 = vel y > 0 && pos y >= 0
trigger2 = vel y < 0 && screenpos y <= 20
v = 24
value = 1
[State 0, VelSet]
type = VarSet
trigger1 = frontedgebodydist <= 10
v = 25
value = 1
ignorehitpause = 1

[State 920, hit]
type = HitDef
trigger1 = gametime %6 = 0
id = 3500
attr = A, HA
hitflag = MAFD
guardflag = MA
animtype = Diagup
air.animtype = Diagup
priority = 5,Hit
damage = ceil(15*fvar(11)),2
pausetime = 0,25
guard.pausetime = 0,1
sparkno = S6208
guard.sparkno = s6220
sparkxy = 20,-20
hitsound = S5,12
guardsound = S6,0
ground.type = low
air.type = Low
ground.type = Low
ground.slidetime = 24+1*(var(42))
guard.slidetime = 25
ground.hittime = 24+1*(var(42))
guard.hittime = 25
air.hittime = 24
ground.velocity = -3,-6
air.velocity = -3,-6
getpower = 0,0
fall = 1
fall.recover = 0
yaccel = .4
palfx.time = 50
palfx.color = 0
palfx.add = 50,100,250
palfx.sinadd = -50,-50,-50,4
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
triggerall = prevstateno = 3500 && animelemtime(14) > 0 || prevstateno = 3501 && time
trigger1 = var(24)
trigger2 = var(25)
value = 3501
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
triggerall = prevstateno = 3500 && animelemtime(14) > 0 || prevstateno = 3501 && time
trigger1 = var(26) <= 0
value = 3505
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Volt Tackle (End)
[Statedef 3505]
type = A
movetype = I
physics = N
velset = 0,0
anim = 3501
ctrl = 0
sprpriority = 2

[State 191, aura]
type = PlaySnd
trigger1 = time = 0
value = 3505,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = animelemtime(25) < 0
value = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 25
physics = A         ;A,C,S,N
ignorehitpause = 1

;-------------------------------------------------------------------------------
;"Super Effective" Hyper KO
[Statedef 4000]
type = S
ctrl = 0
anim = 9999
poweradd = 0

[state -2, finish]
type = explod
trigger1 = time = 0
anim = 4000
id = 4000
pos = 0,0
postype = back
bindtime = -1
supermove = 1 ;0
removetime = 48
ontop = 1
ownpal = 1
scale = .84,1.08
persistent = 0

[state -2, finish]
type = explod
trigger1 = time = 0
anim = 4001
id = 4001
pos = 160,120
postype = back
bindtime = -1
supermove = 1 ;0
ontop = 1
ownpal = 1
persistent = 0

[state -2, finish]
type = explod
trigger1 = time = 0
anim = 4002
id = 4002
pos = 160,120
postype = back
bindtime = -1
supermove = 1 ;0
ontop = 1
ownpal = 1
persistent = 0

[State 0, StopSnd]
type = PlaySnd
trigger1 = time = 0
value = 4000,0
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = roundstate = 4
ignorehitpause = 1

;---------------------------------------------------------------------------
; Air get-hit (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050
ctrl = 0

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land

;---------------------------------------------------------------------------
; Downed get-hit (lying down)
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > Const720p(20)) + (sysvar(1) > Const720p(56))

[State 5110, 7]
type = Explod
trigger1 = Time = 0
trigger1 = !SysVar(0)
anim = F(60 + (sysvar(1) > Const720p(20)) + (sysvar(1) > Const720p(56)))
pos = 0, 0
sprpriority = ifelse (sysvar(1) <= Const720p(56), -10, 10)

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5110, 15]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 16]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; Downed get-hit (lying defeated)
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3
ctrl = 0

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5150, 9]
type = ChangeState
triggerall = RoundState = 4
trigger1 = time >= 60
trigger1 = MatchOver
value = 171

;---------------------------------------------------------------------------
; Air get-hit (fall recovery on ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-20)

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = Const(velocity.air.gethit.groundrecover.x)
y = Const(velocity.air.gethit.groundrecover.y)

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256


[State 5201, 6]
type = Explod
trigger1 = Time = 0
anim = F60
pos = 0, -floor(vel y)
sprpriority = -10


;---------------------------------------------------------------------------
; Air get-hit (fall recovery in air)
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128

[State 5210, 1]
type = PosFreeze
trigger1 = Time < 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-80)

[State 5210, 1.0 behavior 1]
type = VelMul
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.mul.x)
y = Const(velocity.air.gethit.airrecover.mul.y)

[State 5210, 1.0 behavior 2]
type = VelAdd
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.add.x)
y = Const(velocity.air.gethit.airrecover.add.y)

[State 5210, 2002.04.14 behavior 1]
type = null;VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 2002.04.14 behavior 2]
type = null;VelAdd
trigger1 = Time = 4
x = 0 
y = -4.5

[State 5210, 2002.04.14 behavior 3]
type = null;VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 2002.04.14 behavior 4]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 2002.04.14 behavior 5]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = Const(velocity.air.gethit.airrecover.up)

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = Const(velocity.air.gethit.airrecover.down)

[State 5210, 2] ;Go fwd
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = Const(velocity.air.gethit.airrecover.fwd)

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = Const(velocity.air.gethit.airrecover.back)

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = Const(movement.air.gethit.airrecover.yaccel)


[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land
ctrl = 1

;---------------------------------------------------------------------------
; Stun
[Statedef 5300]
type = S
movetype = I
physics = S
ctrl = 0
anim = 5300
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = var(8)
v = 8    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, ChangeState]
type = SelfState
trigger1 = time = 300
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Continue screen animation
[Statedef 5500]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 21    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 22    ;fv = 10
value = 1
ignorehitpause = 1

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 5900, 4] ;Intro for round 1
type = ChangeState
trigger1 = roundsexisted <= 0
value = 190

[State 5900, 5] ;All other rounds
type = ChangeState
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
; Charge Meter
[Statedef 1900]
type = S
physics = N
anim = 9999
ctrl = 0


[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0    ;fv = 10
value = (root,var(13))
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(0) = 0
fv = 0    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = var(0) <= 100
fv = 1    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = var(0) <= 200
fv = 2    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 0    ;fv = 10
value = var(0)*.01
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 1    ;fv = 10
value = var(0)*.01-1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 2    ;fv = 10
value = var(0)*.01-2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(0) > 1
fv = 0    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = fvar(1) > 1
fv = 1    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = fvar(2) > 1
fv = 2    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = 1;numexplod(6010) = 0
anim = 1900
ID = 1900
pos = 20,210
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 9999
supermovetime = 9999
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = var(0) > 0
anim = 1901
ID = 1901
pos = 20,210
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 9999
supermovetime = 9999
scale = fvar(0),1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = var(0) > 100
anim = 1902
ID = 1902
pos = 60,210
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 9999
supermovetime = 9999
scale = fvar(1),1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = var(0) > 200
anim = 1903
ID = 1903
pos = 100,210
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 9999
supermovetime = 9999
scale = fvar(2),1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(0) = 0
id = 1901
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(1) = 0
id = 1902
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(2) = 0
id = 1903
ignorehitpause = 1

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]

[State 0, VarSet]
type = VarSet
trigger1 = var(13) > 300
v = 13    ;fv = 10
value = 300
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = var(13) < 0
v = 13    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = stateno != [3200,3229]
v = 18    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(1900) = 0
trigger1 = roundstate = 2
helpertype = normal ;player
name = "Charge Bar"
ID = 1900
stateno = 1900
pos = 0,0
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999999999999999999999999999
pausemovetime = 999999999999999999999999999999
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = anim != 196
trigger1 = stateno != 196
id = 196
ignorehitpause = 1
[State 0, StopSnd]
type = StopSnd
trigger1 = anim != 196
trigger1 = stateno != 196
channel = 3
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 1200
trigger1 = stateno != 1201
id = 1203
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 3000
trigger1 = stateno != 3050
id = 3002
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [3200,3202]
id = 3201
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [3201,3202]
id = 3202
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [3201,3202]
id = 3203
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 3221
id = 3220
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 3221
id = 3228
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 3221
id = 3229
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 3501
id = 3505
ignorehitpause = 1

[State 0, Default]
type = VictoryQuote
trigger1 = time = 0
value = 0+random%4 ; 1~99
ignorehitpause = 1
[State 0, Versus Pikachu]
type = VictoryQuote
triggerall = time >= 1
triggerall = enemy, authorname != "Gladiacloud & Dylanius"
trigger1 = enemy, name = "Pikachu"
value = 4 ; 1~99
ignorehitpause = 1
[State 0, Versus himself]
type = VictoryQuote
triggerall = time >= 1
triggerall = enemy, authorname = "Gladiacloud & Dylanius"
trigger1 = enemy, name = "Pikachu"
value = 5 ; 1~99
ignorehitpause = 1
[State 0, Versus Jigglypuff]
type = VictoryQuote
triggerall = time >= 1
trigger1 = enemy, name = "Jigglypuff"
trigger2 = enemy, authorname != "Dylanius9000"
trigger2 = enemy, name = "Purin"
value = 6 ; 1~99
ignorehitpause = 1
[State 0, Versus Jigglybridget]
type = VictoryQuote
triggerall = time >= 1
triggerall = enemy, authorname = "Dylanius9000"
trigger1 = enemy, name = "Purin"
value = 7 ; 1~99
ignorehitpause = 1
[State 0, Versus Pikaclones]
type = VictoryQuote
triggerall = time >= 1
trigger1 = enemy, name = "Pichu"
trigger2 = enemy, name = "Plusle"
trigger3 = enemy, name = "Minun"
trigger4 = enemy, name = "Pachirisu"
trigger5 = enemy, name = "Emolga"
trigger6 = enemy, name = "Dedenne"
trigger7 = enemy, name = "Togedemaru"
trigger8 = enemy, name = "Mimikkyuu" || enemy, name = "Mimikyuu"
value = 8 ; 1~99
ignorehitpause = 1
[State 0, Versus Mewtwo]
type = VictoryQuote
triggerall = time >= 1
trigger1 = enemy, name = "Mewtwo"
value = 9 ; 1~99
ignorehitpause = 1
[State 0, Versus A.Mewtwo]
type = VictoryQuote
triggerall = time >= 1
trigger1 = enemy, name = "Awakened Mewtwo"
trigger1 = enemy, name = "Mega Mewtwo Y"
value = 10 ; 1~99
ignorehitpause = 1
[State 0, Versus Shadow Mewtwo]
type = VictoryQuote
triggerall = time >= 1
trigger1 = enemy, name = "Shadow Mewtwo"
value = 11 ; 1~99
ignorehitpause = 1
[State 0, Versus Charizard]
type = VictoryQuote
triggerall = time >= 1
trigger1 = enemy, name = "Charizard" || enemy, name = "Lizardon"
value = 12 ; 1~99
ignorehitpause = 1
[State 0, Versus Lucario]
type = VictoryQuote
triggerall = time >= 1
trigger1 = enemy, name = "Lucario"
value = 13 ; 1~99
ignorehitpause = 1
[State 0, Versus Greninja]
type = VictoryQuote
triggerall = time >= 1
trigger1 = enemy, name = "Greninja" || enemy, name = "Gekkouga"
value = 14 ; 1~99
ignorehitpause = 1

[State 0, Give 'em some Movehitoner]
type = VarSet
trigger1 = 1
var(21) = ifelse((movehit=1||projhit=1),var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = numenemy
trigger1 = enemy, movetype != H
trigger2 = numenemy
trigger2 = enemy, stateno = [5120,5150]
trigger3 = !numenemy
fvar(11) = 1
ignorehitpause = 1

[State 0, Prevent it from getting any lower]
type = VarSet
trigger1 = fvar(11) < 0.1
fvar(11) = 0.1
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------
; Counterhit detection (modified version of Ricepigeon's new method)
;-----------------------------------------------------------------------------------------------

[State -2, VarSet];Checks if opponent is in attack state
type = VarSet
triggerall = numenemy
trigger1 = enemy, movetype = A
var(42) = 1
ignorehitpause = 1

[State -2, VarSet];This resets the condition if counter not succesful and succesful
type = VarSet
triggerall = numenemy
trigger1 = enemy, movetype = I  ;Enemy is Idle
trigger2 = var(43) > 10 && enemy, movetype = H  ;10 ticks passed & enemy is on gethit state
var(42) = 0
ignorehitpause = 1

[State -2, VarSet];Counter Hit Succesful
type = VarSet
trigger1 = var(42) = 1 && movehit ;Counter Check Ok, Move Hit Succesfully.
trigger1 = stateno != [190,199] ;Does not activate during intros.
trigger1 = stateno != [800,899] ;Does not activate during throws.
trigger1 = stateno != [1300,1399] ;Don't activate during Sky Drop.
trigger2 = var(42) = 1 && projhit = 1  ;Counter Check Ok, Projectile Hit Succesfully.
trigger3 = var(42) = 1 && var(46) = 1  ;Counter Check Ok, Projectile Hit Succesfully.
var(43) = 1
ignorehitpause = 1

[State -2, VarAdd];Counter Hit Timer
type = VarAdd
trigger1 = var(43) >= 1 ;Counter was succesful
var(43) = 1
ignorehitpause = 1

[State -2, VarSet];Counter Hit Reset
type = VarSet
trigger1 = var(43) >= 22 && movehit ;Reset if 22 ticks passed and move hit
trigger2 = p2movetype != H ;Reset if P2 is no longer in gethit state
trigger3 = movetype = H ;Reset if P1 is getting hit
trigger4 = var(43) >= 22 && projhit = 1 ;Reset if 22 ticks passed and projectile hit
trigger5 = var(43) >= 22 && var(46)=1
var(43) = 0+0*(var(46):=0)
ignorehitpause = 1

[State 0, Reset every other tick]
type = VarSet
trigger1 = 1
var(46) = 0
ignorehitpause = 1

[State 0, Groundbounce Reset]
type = VarSet
trigger1 = numenemy
trigger1 = enemy, movetype != H
trigger2 = numenemy
trigger2 = enemy, stateno = [5120,5150]
trigger3 = !numenemy
v = 14    ;fv = 10
value = 0
ignorehitpause = 1
[State 0, Wallbounce Reset]
type = VarSet
trigger1 = numenemy
trigger1 = enemy, movetype != H
trigger2 = numenemy
trigger2 = enemy, stateno = [5120,5150]
trigger3 = !numenemy
v = 15    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(8)
trigger1 = movetype = H
trigger1 = stateno != [165,166]
trigger1 = stateno != [5100,5120]
v = 8    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(8)
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(6)
trigger2 = var(8)
flag = nowalk
ignorehitpause = 1

[State 0, Stun State]
type = ChangeState
triggerall = ctrl
trigger1 = var(8)
value = 5300
ctrl = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 166
value = 0
ignorehitpause = 1
persistent = 0

[State 0, Remember P1 Life]
type = VarSet
trigger1 = !var(6) || var(6) && stateno != [150,159]
v = 7    ;fv = 10
value = life
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(160) = 0
trigger1 = var(6) && Stateno = [120,173]
helpertype = normal ;player
name = "Smashy Bubbly Thingy"
ID = 160
stateno = 160
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = roundstate < 2
trigger2 = fvar(6) > 1
fv = 6    ;fv = 10
value = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = var(8)
fv = 6    ;fv = 10
value = 0.5
ignorehitpause = 1
[State 0, VarSet]
type = VarAdd
triggerall = numhelper(160) = 0
trigger1 = fvar(6) < 1
trigger1 = fvar(6) > 0
fv = 6    ;fv = 10
value = .0015
ignorehitpause = 1
[State 0, Slow Degeneration]
type = VarAdd
trigger1 = numhelper(160) > 0
trigger1 = (stateno != 150) && (stateno != 152) && (stateno != 154)
fv = 6    ;fv = 10
value = -.0015
ignorehitpause = 1

[State 0, Guardcrush logic]
type = VarAdd
triggerall = var(6)
trigger1 = (stateno = 150) || (stateno = 152) || (stateno = 154)
trigger1 = (GetHitVar(HitShakeTime) = 1)
fv = 6    ;fv = 10
value = -.015
ignorehitpause = 1
[State 0, Guardcrush logic]
type = VarAdd
triggerall = var(6)
trigger1 = (stateno = 150) || (stateno = 152) || (stateno = 154)
trigger1 = (GetHitVar(HitShakeTime) = 5)
fv = 6    ;fv = 10
value = -.03
ignorehitpause = 1
[State 0, Guardcrush logic]
type = VarAdd
triggerall = var(6)
triggerall = (stateno = 150) || (stateno = 152) || (stateno = 154)
trigger1 = (GetHitVar(HitShakeTime) = 10)
fv = 6    ;fv = 10
value = -.045
ignorehitpause = 1
[State 0, Guardcrush logic]
type = VarAdd
triggerall = var(6)
trigger1 = (stateno = 150) || (stateno = 152) || (stateno = 154)
trigger1 = (GetHitVar(HitShakeTime) = 15)
fv = 6    ;fv = 10
value = -.06
ignorehitpause = 1

[State 0, OH SHI-]
type = SelfState
triggerall = statetype != A
trigger1 = anim = [120,159]
trigger1 = var(6) && fvar(6) <= 0
value = 165
ignorehitpause = 1
[State 0, OH SHI-]
type = SelfState
triggerall = statetype = A
trigger1 = anim = [120,159]
trigger1 = var(6) && fvar(6) <= 0
value = 166
ignorehitpause = 1

[State 0, VarSet]
type = VarSet 
trigger1 = command != "hold_x" || command != "hold_c"
trigger1 = command != "hold_y" || command != "hold_c"
trigger1 = command != "hold_z" || command != "hold_c"
trigger2 = anim != [120,127]
trigger2 = anim != [130,137]
trigger2 = anim != [140,147]
trigger2 = anim != [150,157]
v = 6    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = command = "holdback" 
trigger1 = command = "hold_x" && command = "hold_c"
trigger2 = command = "hold_y" && command = "hold_c"
trigger3 = command = "hold_z" && command = "hold_c"
v = 6    ;fv = 10
value = 1
ignorehitpause = 1

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "Proration = %f Counter = %d Life = %d \nShield Percent = %f"
params = fvar(11), var(42), var(7), (fvar(6)*100)
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(4000) = 0
triggerall = roundstate = 3
triggerall = enemy, alive = 0
trigger1 = stateno = [3000,3999]
trigger1 = movecontact
trigger2 = numtarget(3000)
trigger3 = stateno = 3221 && win
name = "SUPER EFFECTIVE"
ID = 4000
stateno = 4000
pos = 0,0
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0 && ctrl
y = 0
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = stateno = [3000,3900]
trigger1 = stateno != 3221
time = 2
ignorehitpause = 1

[State -2, Throws Disallowed]; Resets condition every tick to check again
type=varset
trigger1= 1
var(38)= 0

[State -2, Throws Disallowed]
type=varset
triggerall = enemy, anim != 5300
trigger1= (enemynear,stateno=[150,173])
trigger2= (enemynear,movetype=H && enemynear,statetype!=A)
trigger3= (enemynear,stateno=[5020,5040]) && !(enemynear,hitfall)
trigger4= ((enemynear,stateno=0) || (enemynear,stateno=52)) && (enemynear,prevstateno=[5000,5040]) && ((enemynear,time<=0) || !(enemynear,ctrl))
trigger5= (enemynear,stateno=0) && (enemynear,prevstateno=52) && ((enemynear,time<=0) || !(enemynear,ctrl))
trigger6= (enemynear,stateno=40) && (enemynear,time>=1 || enemynear,prevstateno=0 || enemynear,prevstateno=52)
var(38)= 1

[State 0, VarSet]
type = VarSet
trigger1 = statetype != A
trigger2 = movetype = H
v = 40    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = stateno != 3000
trigger1 = stateno != 3050
trigger1 = stateno != 3100
trigger1 = stateno != 3150
trigger1 = stateno != [3201,3202]
trigger1 = stateno != 3501
channel = 6
;ignorehitpause = 
;persistent = 

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
fv = 10    ;fv = 10
value = .1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = enemy, movetype != H
trigger2 = enemy, stateno = [5120,5150]
fv = 10    ;fv = 10
value = 1
ignorehitpause = 1

[State -3, Corner Push]; Reset
type= varset
trigger1= fvar(5)
trigger1= numtarget
trigger1= (target, hitover) || (target, gethitvar(hitshaketime) > 0 && target, time <= 0)
fvar(5)= 0

[State -3, Corner Push]; Get initial velocity
type= varset
trigger1= movecontact=1 && numtarget
fvar(5)= (target, gethitvar(xvel))
ignorehitpause= 1

[State -3, Corner Push]; Apply corner push
type= posadd
triggerall= fvar(5)
triggerall= numtarget
triggerall= !hitpausetime && (target, gethitvar(hitshaketime) <= 0)
triggerall= (target, statetype != L)
trigger1= target, frontedgebodydist <= abs(target, vel x)
trigger1= (target, gethitvar(xvel) * target, facing) > 0
trigger2= target, backedgebodydist <= abs(target, vel x)
trigger2= (target, gethitvar(xvel) * target, facing) < 0
x= (ifelse(target, frontedgebodydist <= 0, -1, 1) * (target, facing) * fvar(5))*fvar(10)

[State -3, Corner Push]; Apply friction to the velocity
type= varset
trigger1= numtarget
trigger1= target, gethitvar(hitshaketime) <= 0
fvar(5)= fvar(5) * 0.85

[State -3, jumpdust1]
type = explod
trigger1 = StateNo = 40 && Time = 1
postype = p1
pos = 0,0
spacing = 1
anim = 6010
ownpal = 1
supermove = 1
scale = .7,.7

[State -3, Corner]
type = Velset
trigger1 = FrontEdgeDist < 10 && vel x > 0.1
x = 0.1

[State -3, bounce Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 5100
value = 5100, 0

[State -3, fall Sound]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 5110
value = 5110, 0

;[State 52, Landing Sound]
;type = PlaySnd
;trigger1 = Time = 1
;trigger1 = stateno = 52
;value = 52, 0

[State -3, recover]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 5210
trigger2 = stateno = 5201
value = 5210,0
volume = -100

[State -3, Jumping Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 40
value = 40,0

;[State -3, Jumping Sound 2]
;type = PlaySnd
;triggerall = Time = 0
;trigger1 = stateno = 40
;value = 105,0

[State -3, Double Jump Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 45
value = 40,0

[State -3, Backstep Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 105
value = 40,0